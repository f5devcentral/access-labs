<!DOCTYPE html>
<head>
  
  <!-- Google Tag Manager -->
  <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src='https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);})(window,document,'script','dataLayer','GTM-PPZPQ6');</script>
  <!-- End Google Tag Manager -->
    <title>Lab 1: Configure Identity Aware Proxy(16.0)</title>
  

  <meta charset="utf-8">
  <!-- Twitter Bootstrap viewport setting -->
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <!-- F5 metadata -->
  <meta name="title" content="Lab 1: Configure Identity Aware Proxy(16.0)"/>
  <meta name="product" content="F5 Identity and Access Management Solutions"/>
  <meta name="version" content=""/>
  <meta name="updated_date"  content="2021-06-21 14:22:47"/>
  <meta name="archived" content="Archived documents excluded"/>
  <meta name="doc_type" content="Manual"/>
  <meta name="lifecycle" content="release"/>
  <meta name="F5 Identity and Access Management Solutions" content=""/>


  

  
  <link href="https://cdn.f5.com/favicon.ico" rel="icon">

</head>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Lab 1: Configure Identity Aware Proxy(16.0) &#8212; F5 Identity and Access Management Solutions  documentation</title>
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/css/bootstrap.min.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/graphviz.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css" />
    <link rel="stylesheet" href="../../_static/css/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/css/f5.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/css/f5-theme.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/css/CoveoFullSearch.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/css/custom.css" type="text/css" />
    <link rel="stylesheet" href="https://use.fontawesome.com/21fb8a09c3.css" type="text/css" />
    <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/clipboard.min.js"></script>
    <script src="../../_static/copybutton.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Lab 2: Onboard a Second Application(16.0)" href="lab02.html" />
    <link rel="prev" title="Environment Overview" href="intro.html" /> 
  </head><body>
  <div id="clouddocs-header"></div>

    <div id="sidebar" class="section-nav">
      
      <!--  version selector ------------------>
      <div id="version_selector_wrapper">
      </div>
      <nav class="nav-sidebartoc">

        
         <h5>F5 Identity and Access Management Solutions  </h5>
        

        <hr>
        <span class="nav-sidebartoc">
            <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../class1/class1.html">100 Series: Access Foundational Concepts</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../class2.html">200 Series: Assisted Deployment Use Cases</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../class3/class3.html">300 Series: Advanced Use Cases &amp; Solutions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../class4/class4.html">400 Series: Access Automation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../class5/class5.html">500 Series: Troubleshooting</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../archived/archived.html">Archived Identity &amp; Access Management Labs</a></li>
</ul>

        </span><!-- Use this file to add extra links to the bottom of the ToC sidebar -->
<hr>
  <span class="nav-sidebartoc">
 <!-- insert content here -->
  </span>
      </nav>
    </div>


    <div id="right-sidebar">
      <h7 style="font-weight:normal">On this page:</h7>
      <nav class="nav-sidebartoc">
        <span class="nav-sidebartoc">
            <ul>
<li><a class="reference internal" href="#">Lab 1: Configure Identity Aware Proxy(16.0)</a><ul>
<li><a class="reference internal" href="#topics-covered">Topics Covered</a></li>
<li><a class="reference internal" href="#setup-lab-environment">Setup Lab Environment</a></li>
<li><a class="reference internal" href="#section-1-1-access-guided-configuration">Section 1.1 - Access Guided Configuration</a><ul>
<li><a class="reference internal" href="#task-1-access-the-zero-trust-iap-guided-configuration">Task  1 - Access the Zero Trust IAP guided configuration</a></li>
</ul>
</li>
<li><a class="reference internal" href="#section-1-2-general-properties">Section 1.2 - General Properties</a><ul>
<li><a class="reference internal" href="#task-1-select-the-component-to-configure-for-lab-1">Task 1 - Select the component to configure for Lab 1</a></li>
</ul>
</li>
<li><a class="reference internal" href="#section-1-3-device-posture">Section 1.3 - Device Posture</a><ul>
<li><a class="reference internal" href="#task-1-enable-posture-checks">Task 1 - Enable Posture Checks</a></li>
<li><a class="reference internal" href="#task-2-define-a-firewall-posture-assessment">Task 2 - Define a firewall Posture Assessment</a></li>
<li><a class="reference internal" href="#task-3-verify-the-posture-assessment">Task 3 - Verify the posture assessment</a></li>
</ul>
</li>
<li><a class="reference internal" href="#section-1-4-virtual-server">Section  1.4 - Virtual Server</a><ul>
<li><a class="reference internal" href="#task-1-create-a-virtual-server">Task 1 - Create a virtual server</a></li>
</ul>
</li>
<li><a class="reference internal" href="#section-1-5-user-identity">Section 1.5 - User Identity</a><ul>
<li><a class="reference internal" href="#task-1-configure-active-directory-aaa">Task 1 - Configure Active Directory AAA</a></li>
</ul>
</li>
<li><a class="reference internal" href="#section-1-6-mfa">Section 1.6 - MFA</a><ul>
<li><a class="reference internal" href="#task-1-configure-a-radius-aaa-server">Task 1 - Configure a RADIUS AAA Server</a></li>
</ul>
</li>
<li><a class="reference internal" href="#section-1-7-sso-http-header">Section 1.7 - SSO &amp; HTTP Header</a><ul>
<li><a class="reference internal" href="#task-1-create-a-http-basic-sso-object">Task 1 - Create a HTTP basic SSO object</a></li>
</ul>
</li>
<li><a class="reference internal" href="#section-1-8-applications">Section 1.8 - Applications</a><ul>
<li><a class="reference internal" href="#task-1-create-basic-acme-com-application">Task 1 - Create basic.acme.com application</a></li>
</ul>
</li>
<li><a class="reference internal" href="#section-1-9-webtop">Section 1.9 - Webtop</a><ul>
<li><a class="reference internal" href="#task-1-modify-the-webtop-setting">Task 1 - Modify the Webtop setting</a></li>
</ul>
</li>
<li><a class="reference internal" href="#section-1-10-contextual-access">Section 1.10 - Contextual Access</a><ul>
<li><a class="reference internal" href="#task-1-create-contextual-access-for-basic-acme-com">Task 1 - Create Contextual Access for basic.acme.com</a></li>
</ul>
</li>
<li><a class="reference internal" href="#section-1-11-customization">Section 1.11 - Customization</a><ul>
<li><a class="reference internal" href="#task-1-customize-the-remediation-page-url">Task 1 - Customize the Remediation Page URL</a></li>
</ul>
</li>
<li><a class="reference internal" href="#section-1-12-summary">Section 1.12 - Summary</a><ul>
<li><a class="reference internal" href="#task-1-deploy-the-configuration">Task 1 - Deploy the configuration</a></li>
</ul>
</li>
<li><a class="reference internal" href="#section-1-13-testing">Section 1.13 - Testing</a><ul>
<li><a class="reference internal" href="#task-1-access-basic-acme-com">Task 1 - Access basic.acme.com</a></li>
<li><a class="reference internal" href="#task-2-disable-windows-firewall">Task 2 - Disable Windows Firewall</a></li>
<li><a class="reference internal" href="#task-3-see-deny-page-iap1-acme-com">Task 3 - See Deny Page iap1.acme.com</a></li>
<li><a class="reference internal" href="#task-4-enable-windows-firewall">Task 4 - Enable Windows Firewall</a></li>
</ul>
</li>
</ul>
</li>
</ul>

         </span>
      </nav>
    </div>





  
  <div class="main active" id="content" >
    <article class="docs-container site-article-inner">
              <!-- custom breadcrumb -->
        <h5>
            <a href="../../index.html">F5 Identity and Access Management Solutions</a>
              &gt; <a href="../class2.html">200 Series: Assisted Deployment Use Cases</a>

          <span class="right">
             <a href="../../_sources/class2/module2/lab01.rst.txt" rel="nofollow">Source</a> |
             <a href="https://github.com/f5devcentral/f5-agility-labs-iam">Edit on <i class="fa fa-github" aria-hidden="true"></i></a>
          </span>
        </h5>
        <!-- end custom breadcrumb -->
      


    <!--a title="Export PDF" id="export-pdf" class="btn btn btn-link pull-right">View PDF</a-->
    <button type="button" id="export-pdf" class="btn btn-link right">PDF</button>


    
     
         <div class="sidebar" id="version-warning" style="display: none;">
           <p class="first sidebar-title">
           <span class="icon fa fa-info-circle fa-lg"></span> Version notice:</p>
           <p class="last" id="currentVersion"></p>
          </div>


     <div role="main">
        
  <div class="section" id="lab-1-configure-identity-aware-proxy-16-0">
<h1>Lab 1: Configure Identity Aware Proxy(16.0)<a class="headerlink" href="#lab-1-configure-identity-aware-proxy-16-0" title="Permalink to this headline">¶</a></h1>
<p>The Zero Trust Architecture shifts many of the objects that would exist in a per-session policy to the per-request policy thereby creating a more secure authentication and authorization scheme. The authenticity of each request is further enhanced through the use of F5’s Access Guard agent installed on a client.  This agent provides a PKI signed report of the posture assessment performed on the client real-time rather than the historical way plug-ins reported status. Previously, after a user connected to an application they would experience a delay in access as the agent performed the posture assessment to provide an unsigned report to the BIG-IP.</p>
<div class="section" id="topics-covered">
<h2>Topics Covered<a class="headerlink" href="#topics-covered" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Real-time Posture Assessments</li>
<li>Per-Request Frameworks</li>
<li>Contextual Access</li>
<li>HTTP Connector</li>
</ul>
<p>Expected time to complete: <strong>1 hour</strong></p>
</div>
<div class="section" id="setup-lab-environment">
<h2>Setup Lab Environment<a class="headerlink" href="#setup-lab-environment" title="Permalink to this headline">¶</a></h2>
<p>To access your dedicated student lab environment, you will need a web browser and Remote Desktop Protocol (RDP) client software. The web browser will be used to access the Unified Demo Framework (UDF) Training Portal. The RDP client will be used to connect to the jumphost, where you will be able to access the BIG-IP management interfaces (HTTPS, SSH).</p>
<ol class="arabic">
<li><p class="first">Click <strong>DEPLOYMENT</strong> located on the top left corner to display the environment</p>
</li>
<li><p class="first">Click <strong>ACCESS</strong> next to jumphost.f5lab.local</p>
<p><img alt="image90" src="../../_images/0901.png" /></p>
</li>
<li><p class="first">Select your RDP resolution.</p>
</li>
<li><p class="first">The RDP client on your local host establishes a RDP connection to the Jump Host.</p>
</li>
<li><p class="first">Login with the following credentials:</p>
<blockquote>
<div><ul class="simple">
<li>User: <strong>f5lab\user1</strong></li>
<li>Password: <strong>user1</strong></li>
</ul>
</div></blockquote>
</li>
<li><p class="first">After successful logon the Chrome browser will auto launch opening the site <a class="reference external" href="https://portal.f5lab.local">https://portal.f5lab.local</a>.  This process usually takes 30 seconds after logon.</p>
<blockquote>
<div><p><img alt="image91" src="../../_images/0911.png" /></p>
</div></blockquote>
</li>
<li><p class="first">Click the <strong>Classes</strong> tab at the top of the page.</p>
</li>
<li><p class="first">Scroll down the page until you see <strong>201- 16.0 Zero Trust - Identity Aware Proxy</strong> on the left</p>
<p><img alt="image87" src="../../_images/0871.png" /></p>
</li>
<li><p class="first">Hover over tile <strong>Configure Identity Aware Proxy(16.0)</strong>. A start and stop icon should appear within the tile.  Click the <strong>Play</strong> Button to start the automation to build the environment</p>
<p><img alt="image88" src="../../_images/0881.png" /></p>
</li>
<li><p class="first">The screen should refresh displaying the progress of the automation within 30 seconds.  Scroll to the bottom of the automation workflow to ensure all requests succeeded.  If you you experience errors try running the automation a second time or open an issue on the <a class="reference external" href="https://github.com/f5devcentral/access-labs">Access Labs Repo</a>.</p>
<p><img alt="image89" src="../../_images/0891.png" /></p>
</li>
<li><p class="first">Close Chrome.</p>
</li>
</ol>
</div>
<div class="section" id="section-1-1-access-guided-configuration">
<h2>Section 1.1 - Access Guided Configuration<a class="headerlink" href="#section-1-1-access-guided-configuration" title="Permalink to this headline">¶</a></h2>
<p>The first step in deploying the IAP is accessing Guided Configuration</p>
<div class="section" id="task-1-access-the-zero-trust-iap-guided-configuration">
<h3>Task  1 - Access the Zero Trust IAP guided configuration<a class="headerlink" href="#task-1-access-the-zero-trust-iap-guided-configuration" title="Permalink to this headline">¶</a></h3>
<ol class="arabic">
<li><p class="first">Open Firefox, and navigate to <a class="reference external" href="https://bigip1.f5lab.local">https://bigip1.f5lab.local</a></p>
</li>
<li><p class="first">Login with username <strong>admin</strong> and password <strong>admin</strong></p>
<p><img alt="image2" src="../../_images/image0025.png" /></p>
</li>
<li><p class="first">Click on the <strong>Access</strong> tab located on the left side</p>
<p><img alt="image3" src="../../_images/image0035.png" /></p>
</li>
<li><p class="first">Click <strong>Guided Configuration</strong></p>
<p><img alt="image4" src="../../_images/image0045.png" /></p>
</li>
<li><p class="first">Click <strong>Zero Trust</strong></p>
<p><img alt="image5" src="../../_images/image0055.png" /></p>
</li>
<li><p class="first">Click <strong>Identity Aware Proxy</strong></p>
<p><img alt="image6" src="../../_images/image0065.png" /></p>
</li>
<li><p class="first">Click <strong>Next</strong></p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Review the design considerations for deploying IAP in a <strong>Single Proxy</strong> versus a <strong>Multi-proxy</strong> solution.</p>
</div>
<p><img alt="image7" src="../../_images/image0075.png" /></p>
</li>
</ol>
</div>
</div>
<div class="section" id="section-1-2-general-properties">
<h2>Section 1.2 - General Properties<a class="headerlink" href="#section-1-2-general-properties" title="Permalink to this headline">¶</a></h2>
<p>In this section, you will configure the IAP policy to perform posture assessment from client devices.</p>
<div class="section" id="task-1-select-the-component-to-configure-for-lab-1">
<h3>Task 1 - Select the component to configure for Lab 1<a class="headerlink" href="#task-1-select-the-component-to-configure-for-lab-1" title="Permalink to this headline">¶</a></h3>
<ol class="arabic">
<li><p class="first">Define the configuration name <strong>IAP_DEMO</strong></p>
</li>
<li><p class="first">Click <strong>Device Posture</strong></p>
</li>
<li><p class="first">Click <strong>Multi Factor Authentication</strong></p>
</li>
<li><p class="first">Click <strong>Single Sign-On (SSO)&amp; HTTP Header</strong></p>
</li>
<li><p class="first">Click <strong>Webtop</strong></p>
</li>
<li><p class="first">Click <strong>Save &amp; Next</strong></p>
<p><img alt="image8" src="../../_images/image0085.png" /></p>
</li>
</ol>
</div>
</div>
<div class="section" id="section-1-3-device-posture">
<h2>Section 1.3 - Device Posture<a class="headerlink" href="#section-1-3-device-posture" title="Permalink to this headline">¶</a></h2>
<div class="section" id="task-1-enable-posture-checks">
<h3>Task 1 - Enable Posture Checks<a class="headerlink" href="#task-1-enable-posture-checks" title="Permalink to this headline">¶</a></h3>
<ol class="arabic">
<li><p class="first">Check <strong>Enable F5 Client Posture Check</strong></p>
</li>
<li><p class="first">select <strong>ca.f5lab.local</strong> from the CA Trust Certificate dropdown list</p>
</li>
<li><p class="first">Select <strong>Add</strong> to create a posture assessment group</p>
<p><img alt="image9" src="../../_images/image0095.png" /></p>
</li>
</ol>
</div>
<div class="section" id="task-2-define-a-firewall-posture-assessment">
<h3>Task 2 - Define a firewall Posture Assessment<a class="headerlink" href="#task-2-define-a-firewall-posture-assessment" title="Permalink to this headline">¶</a></h3>
<ol class="arabic">
<li><p class="first">Define the Posture Group Name <strong>FW_CHECK</strong></p>
</li>
<li><p class="first">Check the <strong>Firewall</strong> box</p>
</li>
<li><p class="first">Check the <strong>Domain Managed Devices</strong> box</p>
</li>
<li><p class="first">Enter the Domain Name <strong>f5lab.local</strong></p>
</li>
<li><p class="first">Click <strong>Done</strong></p>
<p><img alt="image10" src="../../_images/image0105.png" /></p>
</li>
</ol>
</div>
<div class="section" id="task-3-verify-the-posture-assessment">
<h3>Task 3 - Verify the posture assessment<a class="headerlink" href="#task-3-verify-the-posture-assessment" title="Permalink to this headline">¶</a></h3>
<ol class="arabic">
<li><p class="first">The Posture Settings box should contain <strong>FW_CHECK</strong></p>
</li>
<li><p class="first">Click <strong>Save &amp; Next</strong></p>
<p><img alt="image11" src="../../_images/image0114.png" /></p>
</li>
</ol>
</div>
</div>
<div class="section" id="section-1-4-virtual-server">
<h2>Section  1.4 - Virtual Server<a class="headerlink" href="#section-1-4-virtual-server" title="Permalink to this headline">¶</a></h2>
<p>In this section, you will define the virtual server IP address and its SSL profile settings</p>
<div class="section" id="task-1-create-a-virtual-server">
<h3>Task 1 - Create a virtual server<a class="headerlink" href="#task-1-create-a-virtual-server" title="Permalink to this headline">¶</a></h3>
<ol class="arabic">
<li><p class="first">Enable <strong>Advanced Settings</strong> located in the top left corner</p>
</li>
<li><p class="first">Enter the IP address <strong>10.1.10.100</strong> in Destination Address</p>
</li>
<li><p class="first">In the <strong>Client SSL Profile</strong> section, move <strong>clientssl</strong>  profile to <strong>Available</strong> side</p>
</li>
<li><p class="first">Double click the <strong>acme.com-wildcard</strong> to move the profile to <strong>Selected</strong></p>
<p><img alt="image12" src="../../_images/image0124.png" /></p>
</li>
<li><p class="first">In the <strong>Server SSL Profile</strong> section, double-click the <strong>serverssl</strong> SSL Profile to move it to the <strong>Selected</strong> side (or select it and then click the right-arrow to move)</p>
</li>
<li><p class="first">Click <strong>Save &amp; Next</strong></p>
<p><img alt="image13" src="../../_images/image0134.png" /></p>
</li>
</ol>
</div>
</div>
<div class="section" id="section-1-5-user-identity">
<h2>Section 1.5 - User Identity<a class="headerlink" href="#section-1-5-user-identity" title="Permalink to this headline">¶</a></h2>
<p>In this section you will configure a single User Identity using Active Directory.</p>
<div class="section" id="task-1-configure-active-directory-aaa">
<h3>Task 1 - Configure Active Directory AAA<a class="headerlink" href="#task-1-configure-active-directory-aaa" title="Permalink to this headline">¶</a></h3>
<ol class="arabic">
<li><p class="first">Click <strong>Add</strong></p>
<p><img alt="image14" src="../../_images/image0144.png" /></p>
</li>
<li><p class="first">Enter <strong>“ad”</strong> for the name</p>
</li>
<li><p class="first">Ensure the Authentication Type is <strong>AAA</strong></p>
</li>
<li><p class="first">Ensure the Choose Authentication Server Type is set to <strong>Active Directory</strong></p>
</li>
<li><p class="first">Select <strong>ad-servers</strong> from the Choose Authentication Server dropdown box</p>
</li>
<li><p class="first">Check <strong>Active Directory Query Properties</strong></p>
<p><img alt="image15" src="../../_images/image0154.png" /></p>
</li>
<li><p class="first">Double-click <strong>memberOf</strong> in the Required Attributes box</p>
</li>
<li><p class="first">Click <strong>Save</strong></p>
<p><img alt="image16" src="../../_images/image0164.png" /></p>
</li>
</ol>
</div>
</div>
<div class="section" id="section-1-6-mfa">
<h2>Section 1.6 - MFA<a class="headerlink" href="#section-1-6-mfa" title="Permalink to this headline">¶</a></h2>
<p>In this section you will configure a RADIUS server to enable simulated MFA capabilities.</p>
<div class="section" id="task-1-configure-a-radius-aaa-server">
<h3>Task 1 - Configure a RADIUS AAA Server<a class="headerlink" href="#task-1-configure-a-radius-aaa-server" title="Permalink to this headline">¶</a></h3>
<ol class="arabic">
<li><p class="first">Click the <strong>MFA</strong> tab</p>
<p><img alt="image17" src="../../_images/image0174.png" /></p>
</li>
<li><p class="first">Click <strong>Add</strong></p>
<p><img alt="image18" src="../../_images/image0184.png" /></p>
</li>
<li><p class="first">Double click <strong>Custom Radius Based</strong></p>
<p><img alt="image19" src="../../_images/image0194.png" /></p>
</li>
<li><p class="first">Select <strong>Create New</strong> from the Choose RADIUS Server dropdown</p>
<p><img alt="image20" src="../../_images/image0204.png" /></p>
</li>
<li><p class="first">Enter the Server Pool Name <strong>radius_pool</strong></p>
</li>
<li><p class="first">Enter the Server Address <strong>10.1.20.8</strong></p>
</li>
<li><p class="first">Enter the Secret <strong>secret</strong></p>
</li>
<li><p class="first">Click <strong>Save</strong></p>
<p><img alt="image21" src="../../_images/image0214.png" /></p>
</li>
<li><p class="first">Verify <strong>Custom RADIUS based Authentication</strong> appears</p>
</li>
<li><p class="first">Click <strong>Save &amp; Next</strong></p>
<p><img alt="image22" src="../../_images/image0224.png" /></p>
</li>
</ol>
</div>
</div>
<div class="section" id="section-1-7-sso-http-header">
<h2>Section 1.7 - SSO &amp; HTTP Header<a class="headerlink" href="#section-1-7-sso-http-header" title="Permalink to this headline">¶</a></h2>
<p>In this section you will configure HTTP Basic SSO.</p>
<div class="section" id="task-1-create-a-http-basic-sso-object">
<h3>Task 1 - Create a HTTP basic SSO object<a class="headerlink" href="#task-1-create-a-http-basic-sso-object" title="Permalink to this headline">¶</a></h3>
<ol class="arabic">
<li><p class="first">Click <strong>Add</strong></p>
<p><img alt="image23" src="../../_images/image0234.png" /></p>
</li>
<li><p class="first">Enter the name <strong>basic_sso</strong></p>
</li>
<li><p class="first">Verify <strong>HTTP Basic</strong> is selected</p>
</li>
<li><p class="first">Select <strong>Create New</strong> from the SSO Configuration Object dropdown box</p>
<p><img alt="image24" src="../../_images/image0244.png" /></p>
</li>
<li><p class="first">Verify the Username Source is <strong>session.sso.token.last.username</strong></p>
</li>
<li><p class="first">Verify the Password Source is <strong>session.sso.token.last.password</strong></p>
</li>
<li><p class="first">Click <strong>Save</strong></p>
<p><img alt="image25" src="../../_images/image0254.png" /></p>
</li>
<li><p class="first">Verify the <strong>basic_sso</strong> object was created</p>
</li>
<li><p class="first">click <strong>Save &amp; Next</strong></p>
<p><img alt="image26" src="../../_images/image0263.png" /></p>
</li>
</ol>
</div>
</div>
<div class="section" id="section-1-8-applications">
<h2>Section 1.8 - Applications<a class="headerlink" href="#section-1-8-applications" title="Permalink to this headline">¶</a></h2>
<p>In this section you will define a single application</p>
<div class="section" id="task-1-create-basic-acme-com-application">
<h3>Task 1 - Create basic.acme.com application<a class="headerlink" href="#task-1-create-basic-acme-com-application" title="Permalink to this headline">¶</a></h3>
<ol class="arabic">
<li><p class="first">Enter Auth Domain <strong>iap1.acme.com</strong></p>
</li>
<li><p class="first">Click <strong>Add</strong></p>
<p><img alt="image27" src="../../_images/image0273.png" /></p>
</li>
<li><p class="first">Enter <strong>basic.acme.com</strong> for the application name</p>
</li>
<li><p class="first">Enter <strong>basic.acme.com</strong> for the FQDN</p>
</li>
<li><p class="first">Enter the IP address <strong>10.1.20.6</strong> for the pool member</p>
</li>
<li><p class="first">Click <strong>Save</strong></p>
<p><img alt="image28" src="../../_images/image0284.png" /></p>
</li>
<li><p class="first">Verfiy <strong>basic.acme.com</strong> application was created</p>
</li>
<li><p class="first">Click <strong>Save &amp; Next</strong></p>
<p><img alt="image29" src="../../_images/image0294.png" /></p>
</li>
</ol>
</div>
</div>
<div class="section" id="section-1-9-webtop">
<h2>Section 1.9 - Webtop<a class="headerlink" href="#section-1-9-webtop" title="Permalink to this headline">¶</a></h2>
<div class="section" id="task-1-modify-the-webtop-setting">
<h3>Task 1 - Modify the Webtop setting<a class="headerlink" href="#task-1-modify-the-webtop-setting" title="Permalink to this headline">¶</a></h3>
<ol class="arabic">
<li><p class="first">Set the Primary Authentication to <strong>ad</strong></p>
</li>
<li><p class="first">Verify <strong>basic.acme.com</strong> is listed under Application</p>
</li>
<li><p class="first">Click <strong>Save &amp; Next</strong></p>
<p><img alt="image30" src="../../_images/image0304.png" /></p>
</li>
</ol>
</div>
</div>
<div class="section" id="section-1-10-contextual-access">
<h2>Section 1.10 - Contextual Access<a class="headerlink" href="#section-1-10-contextual-access" title="Permalink to this headline">¶</a></h2>
<p>In this section you will define contextual access for the previously created application.  Context access is where all of the previously created objects are put together to provide fine-grain access control.</p>
<div class="section" id="task-1-create-contextual-access-for-basic-acme-com">
<h3>Task 1 - Create Contextual Access for basic.acme.com<a class="headerlink" href="#task-1-create-contextual-access-for-basic-acme-com" title="Permalink to this headline">¶</a></h3>
<ol class="arabic">
<li><p class="first">Click <strong>Add</strong></p>
<p><img alt="image31" src="../../_images/image0313.png" /></p>
</li>
<li><p class="first">Enter <strong>basic.acme.com</strong> for the contextual access name</p>
</li>
<li><p class="first">Select <strong>basic.acme.com</strong> from the Resource dropdown box</p>
</li>
<li><p class="first">Select <strong>fw_check</strong> from the Device Posture dropdown box</p>
</li>
<li><p class="first">Select <strong>ad</strong> from the Primary Authentication dropdown box</p>
</li>
<li><p class="first">Select <strong>basic_sso</strong> from the Single Sign-On dropdown box</p>
</li>
<li><p class="first">Enter <strong>Sales Engineering</strong> in the Filter by Group Name.  This group assignment section controls the display of resources on the Webtop.  It does not control the access to the actual resource.  That will be covered in lab2.</p>
</li>
<li><p class="first">Click <strong>Add</strong> beside the Group Name</p>
<p><img alt="image32" src="../../_images/image0323.png" /></p>
</li>
<li><p class="first">Check <strong>Additional Checks</strong></p>
</li>
<li><p class="first">For the Default Fallback rule, select <strong>Step Up</strong> from the dropdown box under <strong>Match Action</strong></p>
</li>
<li><p class="first">Select <strong>Custom Radius based Authentication (MFA)</strong> from the Step Up Authentication box</p>
</li>
<li><p class="first">Click <strong>Save</strong></p>
<p><img alt="image33" src="../../_images/image0334.png" /></p>
</li>
<li><p class="first">Verify <strong>basic.acme.com</strong> Contextual Access</p>
</li>
<li><p class="first">Click <strong>Save &amp; Next</strong></p>
<p><img alt="image33-2" src="../../_images/image033-2.png" /></p>
</li>
</ol>
</div>
</div>
<div class="section" id="section-1-11-customization">
<h2>Section 1.11 - Customization<a class="headerlink" href="#section-1-11-customization" title="Permalink to this headline">¶</a></h2>
<p>The Customization section allows an administrator to define the images, colors, and messages that are presented to a user.</p>
<div class="section" id="task-1-customize-the-remediation-page-url">
<h3>Task 1 - Customize the Remediation Page URL<a class="headerlink" href="#task-1-customize-the-remediation-page-url" title="Permalink to this headline">¶</a></h3>
<p>The default <strong>remediation Page</strong> URL uses the hostname site <strong>request.com</strong>.  This should be changed to reference a real host where users can download and install the EPI updates.</p>
<ol class="arabic">
<li><p class="first">Scroll down to the Remediation Page Section</p>
<p><img alt="image36" src="../../_images/image0363.png" /></p>
</li>
<li><p class="first">Enter the URL <strong>https://iap1.acme.com/epi/downloads</strong></p>
<p><img alt="image37" src="../../_images/image0373.png" /></p>
</li>
<li><p class="first">Click <strong>Save &amp; Next</strong></p>
</li>
<li><p class="first">On the Session Management Properties menu, Click <strong>Save &amp; Next</strong></p>
</li>
</ol>
</div>
</div>
<div class="section" id="section-1-12-summary">
<h2>Section 1.12 - Summary<a class="headerlink" href="#section-1-12-summary" title="Permalink to this headline">¶</a></h2>
<p>The <strong>Summary</strong> page allows you to review the configuration that is about to be deployed.  In the event a change is required anywhere in the configuration the <strong>pencil icon</strong> on the right side can be selected to quickly edit the appropriate section.</p>
<div class="section" id="task-1-deploy-the-configuration">
<h3>Task 1 - Deploy the configuration<a class="headerlink" href="#task-1-deploy-the-configuration" title="Permalink to this headline">¶</a></h3>
<ol class="arabic">
<li><p class="first">Click <strong>Deploy</strong></p>
<p><img alt="image38" src="../../_images/image0382.png" /></p>
</li>
<li><p class="first">Once the deployment is complete, click <strong>Finish</strong></p>
</li>
</ol>
</div>
</div>
<div class="section" id="section-1-13-testing">
<h2>Section 1.13 - Testing<a class="headerlink" href="#section-1-13-testing" title="Permalink to this headline">¶</a></h2>
<p>In this section you will access the application basic.acme.com and watch how the BIG-IP restricts access when a device fails it’s posture assessment.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">You must use <strong>Firefox</strong> for testing!</p>
</div>
<div class="section" id="task-1-access-basic-acme-com">
<h3>Task 1 - Access basic.acme.com<a class="headerlink" href="#task-1-access-basic-acme-com" title="Permalink to this headline">¶</a></h3>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Posture Assessments in a Per-Request Policy use F5 Access Guard(running on clients) to perform posture assessments prior to accessing an application.  This improves the user experience since posture checks do not introduce any delay when accessing the application. This also improves security by allowing posture assessments to occur continuously throughout the life of the session.</p>
</div>
<ol class="arabic">
<li><p class="first">From the jumpbox, browse to <a class="reference external" href="https://iap1.acme.com">https://iap1.acme.com</a></p>
</li>
<li><p class="first">At the logon page enter the Username:<strong>user1</strong> and Password:<strong>user1</strong></p>
</li>
<li><p class="first">Click <strong>Logon</strong></p>
<p><img alt="image39" src="../../_images/image0392.png" /></p>
</li>
<li><p class="first">Click the <strong>basic.acme.com</strong> tile on the webtop</p>
<p><img alt="image40" src="../../_images/image0402.png" /></p>
</li>
<li><p class="first">The RADIUS logon page, prepopulates the username:<strong>user1</strong>.  Enter the PIN: <strong>123456</strong> in the password field</p>
<p><img alt="image41" src="../../_images/image0412.png" /></p>
</li>
<li><p class="first">The SSO profile passes the username and password to the website for logon.</p>
<p><img alt="image42" src="../../_images/image0422.png" /></p>
</li>
<li><p class="first">Close the browser Window to ensure there is not cached data</p>
</li>
</ol>
</div>
<div class="section" id="task-2-disable-windows-firewall">
<h3>Task 2 - Disable Windows Firewall<a class="headerlink" href="#task-2-disable-windows-firewall" title="Permalink to this headline">¶</a></h3>
<ol class="arabic">
<li><p class="first">Right click the computer icon in the taskbar and open <strong>Network and Sharing Center</strong></p>
<p><img alt="image43" src="../../_images/image0431.png" /></p>
</li>
<li><p class="first">Click <strong>Windows Firewall</strong></p>
<p><img alt="image44" src="../../_images/image0441.png" /></p>
</li>
<li><p class="first">Click <strong>Turn Windows Firewall on or off</strong></p>
<p><img alt="image45" src="../../_images/image0451.png" /></p>
</li>
<li><p class="first">Click the radio button <strong>Turn off Windows Firewall</strong></p>
</li>
<li><p class="first">Click <strong>Ok</strong></p>
<p><img alt="image46" src="../../_images/image0461.png" /></p>
</li>
</ol>
</div>
<div class="section" id="task-3-see-deny-page-iap1-acme-com">
<h3>Task 3 - See Deny Page iap1.acme.com<a class="headerlink" href="#task-3-see-deny-page-iap1-acme-com" title="Permalink to this headline">¶</a></h3>
<ol class="arabic">
<li><p class="first">From the jumpbox, browse to <a class="reference external" href="https://iap1.acme.com">https://iap1.acme.com</a></p>
</li>
<li><p class="first">At the logon page enter the Username:<strong>user1</strong> and Password:<strong>user1</strong></p>
</li>
<li><p class="first">Click <strong>Logon</strong></p>
<p><img alt="image39" src="../../_images/image0392.png" /></p>
</li>
<li><p class="first">Click the <strong>basic.acme.com</strong> tile on the webtop</p>
<p><img alt="image40" src="../../_images/image0402.png" /></p>
</li>
<li><p class="first">After approximately 15 seconds you will receive a deny page from the IAP stating that you have failed the network firewall check</p>
<p><img alt="image47" src="../../_images/image0471.png" /></p>
</li>
<li><p class="first">Close the browser Window to ensure there is no cached data</p>
</li>
</ol>
</div>
<div class="section" id="task-4-enable-windows-firewall">
<h3>Task 4 - Enable Windows Firewall<a class="headerlink" href="#task-4-enable-windows-firewall" title="Permalink to this headline">¶</a></h3>
<ol class="arabic">
<li><p class="first">Right click the computer icon in the taskbar and open <strong>Network and Sharing Center</strong></p>
<p><img alt="image43" src="../../_images/image0431.png" /></p>
</li>
<li><p class="first">Click <strong>Windows Firewall</strong></p>
<p><img alt="image44" src="../../_images/image0441.png" /></p>
</li>
<li><p class="first">Click <strong>Turn Windows Firewall on or off</strong></p>
<p><img alt="image45" src="../../_images/image0451.png" /></p>
</li>
<li><p class="first">Click the radio button <strong>Turn on Windows Firewall</strong></p>
</li>
<li><p class="first">Click <strong>Ok</strong></p>
<p><img alt="image48" src="../../_images/image0481.png" /></p>
</li>
<li><p class="first">From the jumpbox, connect to <a class="reference external" href="https://iap1.acme.com">https://iap1.acme.com</a> webtop, and then access the <strong>basic.acme.com</strong> application</p>
</li>
<li><p class="first">This concludes lab 1.</p>
<p><img alt="image100" src="../../_images/image1003.png" /></p>
</li>
</ol>
</div>
</div>
</div>


     </div>
    
     <div class="row next-prev-btn-row">
       <div class="col-lg-12">
       
        <a href="intro.html" title="Environment Overview" accesskey="p" class="btn btn-primary left"><i class="fa fa-arrow-circle-left" aria-hidden="true"></i> Previous</a>
       
       
          <a href="lab02.html" title="Lab 2: Onboard a Second Application(16.0)" accesskey="n" class="btn btn-primary right">Next <i class="fa fa-arrow-circle-right" aria-hidden="true"></i></a>
       
     </div>
     </div>
    

    </article>
  </div>

</div>


  <div id="clouddocs-footer"></div>
  <!-- Bootstrap core JavaScript
  ================================================== -->
  <!-- Placed at the end of the document so the pages load faster -->

  <script src="../../_static/js/index.js"></script>
  <script src="../../_static/js/jquery.appear.js"></script>
  <script src="../../_static/js/printThis.js"></script>
  <script src="../../_static/js/bootstrap.min.js"></script>
  <script src="../../_static/js/clouddocs.js"></script>
  <script src="../../_static/js/CoveoJsSearch.Lazy.min.js"></script>
  </body>
</html>