<!DOCTYPE html>
<head>
  
  <!-- Google Tag Manager -->
  <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src='https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);})(window,document,'script','dataLayer','GTM-PPZPQ6');</script>
  <!-- End Google Tag Manager -->
    <title>Lab 1: SAML Service Provider (SP) Lab</title>
  

  <meta charset="utf-8">
  <!-- Twitter Bootstrap viewport setting -->
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <!-- F5 metadata -->
  <meta name="title" content="Lab 1: SAML Service Provider (SP) Lab"/>
  <meta name="product" content="F5 Identity and Access Management Solutions"/>
  <meta name="version" content=""/>
  <meta name="updated_date"  content="2021-06-21 14:22:47"/>
  <meta name="archived" content="Archived documents excluded"/>
  <meta name="doc_type" content="Manual"/>
  <meta name="lifecycle" content="release"/>
  <meta name="F5 Identity and Access Management Solutions" content=""/>


  

  
  <link href="https://cdn.f5.com/favicon.ico" rel="icon">

</head>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Lab 1: SAML Service Provider (SP) Lab &#8212; F5 Identity and Access Management Solutions  documentation</title>
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/css/bootstrap.min.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/graphviz.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css" />
    <link rel="stylesheet" href="../../_static/css/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/css/f5.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/css/f5-theme.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/css/CoveoFullSearch.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/css/custom.css" type="text/css" />
    <link rel="stylesheet" href="https://use.fontawesome.com/21fb8a09c3.css" type="text/css" />
    <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/clipboard.min.js"></script>
    <script src="../../_static/copybutton.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Lab 2: IDaaS SAML Identity Provider (iDP) Lab (OKTA)" href="lab2.html" />
    <link rel="prev" title="Welcome" href="intro.html" /> 
  </head><body>
  <div id="clouddocs-header"></div>

    <div id="sidebar" class="section-nav">
      
      <!--  version selector ------------------>
      <div id="version_selector_wrapper">
      </div>
      <nav class="nav-sidebartoc">

        
         <h5>F5 Identity and Access Management Solutions  </h5>
        

        <hr>
        <span class="nav-sidebartoc">
            <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../class1/class1.html">100 Series: Access Foundational Concepts</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../class2/class2.html">200 Series: Assisted Deployment Use Cases</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../class3/class3.html">300 Series: Advanced Use Cases &amp; Solutions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../class4/class4.html">400 Series: Access Automation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../class5/class5.html">500 Series: Troubleshooting</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../archived.html">Archived Identity &amp; Access Management Labs</a></li>
</ul>

        </span><!-- Use this file to add extra links to the bottom of the ToC sidebar -->
<hr>
  <span class="nav-sidebartoc">
 <!-- insert content here -->
  </span>
      </nav>
    </div>


    <div id="right-sidebar">
      <h7 style="font-weight:normal">On this page:</h7>
      <nav class="nav-sidebartoc">
        <span class="nav-sidebartoc">
            <ul>
<li><a class="reference internal" href="#">Lab 1: SAML Service Provider (SP) Lab</a><ul>
<li><a class="reference internal" href="#objective">Objective:</a></li>
<li><a class="reference internal" href="#lab-requirements">Lab Requirements:</a></li>
<li><a class="reference internal" href="#lab-1-tasks">Lab 1 Tasks:</a><ul>
<li><a class="reference internal" href="#task-1-configure-the-saml-service-provider-sp">TASK 1: Configure the SAML Service Provider (SP)</a></li>
<li><a class="reference internal" href="#task-2-configure-the-external-saml-idp-connector">TASK 2: Configure the External SAML IdP Connector</a></li>
<li><a class="reference internal" href="#task-3-bind-the-external-saml-idp-connector-to-the-saml-sp">TASK: 3: Bind the External SAML IdP Connector to the SAML SP</a></li>
<li><a class="reference internal" href="#task-4-configure-the-saml-sp-access-policy">TASK 4: Configure the SAML SP Access Policy</a></li>
<li><a class="reference internal" href="#task-5-create-the-sp-virtual-server-apply-the-sp-access-policy">TASK 5: Create the SP Virtual Server &amp; Apply the SP Access Policy</a></li>
<li><a class="reference internal" href="#task-6-test-the-saml-sp">TASK 6: Test the SAML SP</a></li>
</ul>
</li>
</ul>
</li>
</ul>

         </span>
      </nav>
    </div>





  
  <div class="main active" id="content" >
    <article class="docs-container site-article-inner">
              <!-- custom breadcrumb -->
        <h5>
            <a href="../../index.html">F5 Identity and Access Management Solutions</a>
              &gt; <a href="../archived.html">Archived Identity &amp; Access Management Labs</a>
              &gt; <a href="class6.html">Class 6: Federating Common Services</a>

          <span class="right">
             <a href="../../_sources/archived/class6/lab1.rst.txt" rel="nofollow">Source</a> |
             <a href="https://github.com/f5devcentral/f5-agility-labs-iam">Edit on <i class="fa fa-github" aria-hidden="true"></i></a>
          </span>
        </h5>
        <!-- end custom breadcrumb -->
      


    <!--a title="Export PDF" id="export-pdf" class="btn btn btn-link pull-right">View PDF</a-->
    <button type="button" id="export-pdf" class="btn btn-link right">PDF</button>


    
     
         <div class="sidebar" id="version-warning" style="display: none;">
           <p class="first sidebar-title">
           <span class="icon fa fa-info-circle fa-lg"></span> Version notice:</p>
           <p class="last" id="currentVersion"></p>
          </div>


     <div role="main">
        
  <div class="section" id="lab-1-saml-service-provider-sp-lab">
<h1>Lab 1: SAML Service Provider (SP) Lab<a class="headerlink" href="#lab-1-saml-service-provider-sp-lab" title="Permalink to this headline">¶</a></h1>
<p>The purpose of this lab is to configure and test a SAML Service
Provider (SP). Students will configure the various aspects of a SAML Service
Provider, import and bind to a SAML Identity Provider (IdP) and test
SP-Initiated SAML Federation.</p>
<div class="section" id="objective">
<h2>Objective:<a class="headerlink" href="#objective" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Gain an understanding of SAML Service Provider(SP) configurations and
its component parts</li>
<li>Gain an understanding of the access flow for SP-Initiated SAML</li>
</ul>
</div>
<div class="section" id="lab-requirements">
<h2>Lab Requirements:<a class="headerlink" href="#lab-requirements" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>All Lab requirements will be noted in the tasks that follow</li>
<li>Estimated completion time: 25 minutes</li>
</ul>
</div>
<div class="section" id="lab-1-tasks">
<h2>Lab 1 Tasks:<a class="headerlink" href="#lab-1-tasks" title="Permalink to this headline">¶</a></h2>
<div class="section" id="task-1-configure-the-saml-service-provider-sp">
<h3>TASK 1: Configure the SAML Service Provider (SP)<a class="headerlink" href="#task-1-configure-the-saml-service-provider-sp" title="Permalink to this headline">¶</a></h3>
<p>Refer to the instructions and screen shots below:</p>
<table border="1" class="docutils align-default">
<colgroup>
<col width="100%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><ol class="first last arabic">
<li><p class="first">Login to your lab provided <strong>Virtual Edition BIG-IP</strong></p>
</li>
<li><p class="first">Begin by selecting: <strong>Access -&gt; Federation -&gt; SAML Service Provider</strong> -&gt;</p>
<p><strong>Local SP Services</strong></p>
</li>
<li><p class="first">Click the <strong>Create</strong> button (far right)</p>
</li>
</ol>
</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="../../_images/image001.png"><img alt="image001" src="../../_images/image001.png" style="width: 4.5in; height: 0.74in;" /></a></td>
</tr>
</tbody>
</table>
<table border="1" class="docutils align-default">
<colgroup>
<col width="100%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><ol class="first last arabic" start="4">
<li><p class="first">In the <strong>Create New SAML SP Service</strong>  dialogue box click <strong>General Settings</strong> in</p>
<p>the left navigation pane and key in the following as shown:</p>
<ul class="simple">
<li><strong>Name</strong>: <strong>app.f5demo.com</strong></li>
<li><strong>Entity ID</strong>: <strong>https://app.f5demo.com</strong></li>
</ul>
<p><em>Note: The yellow box on Host will disappear when the Entity ID is entered.</em></p>
</li>
</ol>
</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="../../_images/image002.png"><img alt="image002" src="../../_images/image002.png" style="width: 4.5in; height: 3.37in;" /></a></td>
</tr>
</tbody>
</table>
<table border="1" class="docutils align-default">
<colgroup>
<col width="100%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><ol class="first last arabic simple" start="5">
<li>Click on the <strong>Security Settings</strong> in the left navigation menu.</li>
<li>Check the <strong>Sign Authentication Request</strong> checkbox</li>
<li>Select <strong>/Common/SAML.key</strong> from drop down menu for the
<strong>Message Signing Private Key</strong></li>
<li>Select <strong>/Common/SAML.crt</strong> from drop down menu for the
<strong>Message Signing Certificate</strong></li>
<li>Click <strong>OK</strong> on the dialogue box</li>
</ol>
</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="../../_images/image003.png"><img alt="image003" src="../../_images/image003.png" style="width: 4.5in; height: 3.38in;" /></a></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="task-2-configure-the-external-saml-idp-connector">
<h3>TASK 2: Configure the External SAML IdP Connector<a class="headerlink" href="#task-2-configure-the-external-saml-idp-connector" title="Permalink to this headline">¶</a></h3>
<p>Refer to the instructions and screen shots below:</p>
<table border="1" class="docutils align-default">
<colgroup>
<col width="100%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><ol class="first last arabic">
<li><p class="first">Click on the <strong>Access</strong> -&gt; <strong>Federation</strong> -&gt; <strong>SAML Service Provider</strong> -&gt;</p>
<p><strong>External IdP Connectors</strong> or click on the <strong>SAML Service Provider</strong> tab in the</p>
<p>horizontal navigation menu andselect <strong>External IdP Connectors</strong>.</p>
</li>
<li><p class="first">Click specifically on the <strong>Down Arrow</strong> next to the <strong>Create</strong> button (far right)</p>
</li>
<li><p class="first">Select <strong>From Metadata</strong> from the drop down menu</p>
</li>
</ol>
</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="../../_images/image004.png"><img alt="image004" src="../../_images/image004.png" style="width: 4.5in; height: 0.73in;" /></a></td>
</tr>
</tbody>
</table>
<table border="1" class="docutils align-default">
<colgroup>
<col width="100%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><ol class="first arabic" start="4">
<li><p class="first">In the <strong>Create New SAML IdP Connector</strong> dialogue box, click <strong>Browse</strong> and select</p>
<p>the <strong>idp.partner.com-app_metadata.xml</strong> file from the Desktop of your jump host.</p>
</li>
<li><p class="first">In the <strong>Identity Provider Name</strong> field enter the following: <strong>idp.partner.com</strong></p>
</li>
<li><p class="first">Click <strong>OK</strong> on the dialogue box.</p>
</li>
</ol>
<p><em>Note: The idp.partner.com-app_metadata.xml was created previously. Oftentimes, iDP</em></p>
<p><em>providers will have a metadata file representing their IdP service. This can be</em></p>
<p class="last"><em>imported to save object creation time as it has been done in this lab</em></p>
</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="../../_images/image005.png"><img alt="image005" src="../../_images/image005.png" style="width: 4.5in; height: 3.37in;" /></a></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="task-3-bind-the-external-saml-idp-connector-to-the-saml-sp">
<h3>TASK: 3: Bind the External SAML IdP Connector to the SAML SP<a class="headerlink" href="#task-3-bind-the-external-saml-idp-connector-to-the-saml-sp" title="Permalink to this headline">¶</a></h3>
<p>Refer to the instructions and screen shots below:</p>
<table border="1" class="docutils align-default">
<colgroup>
<col width="100%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><ol class="first last arabic">
<li><p class="first">Click on the <strong>Local SP Services</strong> from the <strong>SAML Service Provider</strong> tab in the</p>
<p>horizontal navigation menu.</p>
</li>
<li><p class="first">Click the <strong>Checkbox</strong> next to the previously created <strong>app.f5demo.com</strong> and select</p>
<p><strong>Bind/Unbind IdP Connectors</strong> button at the bottom of the GUI.</p>
</li>
</ol>
</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="../../_images/image006.png"><img alt="image006" src="../../_images/image006.png" style="width: 4.5in; height: 1.15in;" /></a></td>
</tr>
</tbody>
</table>
<table border="1" class="docutils align-default">
<colgroup>
<col width="100%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><ol class="first last arabic" start="3">
<li><p class="first">In the <strong>Edit SAML IdP’s that use this SP</strong> dialogue box click the <strong>Add New Row</strong> button</p>
</li>
<li><p class="first">In the added row click the <strong>Down Arrow</strong> under <strong>SAML IdP Connectors</strong> and select the</p>
<p><strong>/Common/idp.partner.com</strong> SAML IdP Connector previously created.</p>
</li>
<li><p class="first">Click the <strong>Update</strong> button and the <strong>OK</strong> button at the bottom of the dialogue box.</p>
</li>
</ol>
</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="../../_images/image007.png"><img alt="image007" src="../../_images/image007.png" style="width: 4.5in; height: 2.28in;" /></a></td>
</tr>
</tbody>
</table>
<table border="1" class="docutils align-default">
<colgroup>
<col width="100%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><ol class="first last arabic" start="6">
<li><p class="first">Under the <strong>Access</strong> -&gt; <strong>Federation</strong> -&gt; <strong>SAML Service Provider</strong> -&gt;</p>
<p><strong>Local SP Services</strong> menu you should now see the following (as shown):</p>
<ul class="simple">
<li><strong>Name</strong>: <strong>app.f5demo.com</strong></li>
<li><strong>SAML IdP Connectors</strong>: <strong>idp.partner.com</strong></li>
</ul>
</li>
</ol>
</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="../../_images/image008.png"><img alt="image008" src="../../_images/image008.png" style="width: 4.5in; height: 0.96in;" /></a></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="task-4-configure-the-saml-sp-access-policy">
<h3>TASK 4: Configure the SAML SP Access Policy<a class="headerlink" href="#task-4-configure-the-saml-sp-access-policy" title="Permalink to this headline">¶</a></h3>
<p>Refer to the instructions and screen shots below:</p>
<table border="1" class="docutils align-default">
<colgroup>
<col width="100%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><ol class="first last arabic simple">
<li>Begin by selecting: <strong>Access</strong> -&gt; <strong>Profiles/Policies</strong> -&gt; <strong>Access Profiles</strong>
<strong>(Per-Session Policies)</strong></li>
<li>Click the <strong>Create</strong> button (far right)</li>
</ol>
</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="../../_images/image009.png"><img alt="image009" src="../../_images/image009.png" style="width: 4.5in; height: 1.69in;" /></a></td>
</tr>
</tbody>
</table>
<table border="1" class="docutils align-default">
<colgroup>
<col width="100%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><ol class="first last arabic" start="3">
<li><p class="first">In the <strong>New Profile</strong> window, key in the following as shown:</p>
<ul class="simple">
<li><strong>Name</strong>: <strong>app.f5demo.com-policy</strong></li>
<li><strong>Profile Type</strong>: <strong>All</strong> (from drop down)</li>
<li><strong>Profile Scope</strong>: <strong>Profile</strong> (default)</li>
</ul>
</li>
<li><p class="first">Scroll to the bottom of the <strong>New Profile</strong> window to the <strong>Language Settings</strong></p>
</li>
<li><p class="first">Select <strong>English</strong> from the <strong>Factory Built-in Languages</strong> menu on the right and click</p>
<p>the <strong>Double Arrow (&lt;&lt;)</strong>, then click the <strong>Finished</strong> button.</p>
</li>
</ol>
</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="../../_images/image010.png"><img alt="image010" src="../../_images/image010.png" style="width: 4.5in; height: 2.94in;" /></a></td>
</tr>
</tbody>
</table>
<table border="1" class="docutils align-default">
<colgroup>
<col width="100%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><ol class="first last arabic" start="6">
<li><p class="first">From the <strong>Access</strong> -&gt; <strong>Profiles/Policies</strong> -&gt; <strong>Access Profiles</strong>
<strong>(Per-Session Policies)</strong>,</p>
<p>click the <strong>Edit</strong> link on the previously created <strong>app.f5demo.com-policy</strong> line.</p>
</li>
</ol>
</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="../../_images/image011.png"><img alt="image011" src="../../_images/image011.png" style="width: 4.5in; height: 0.80in;" /></a></td>
</tr>
</tbody>
</table>
<table border="1" class="docutils align-default">
<colgroup>
<col width="100%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><ol class="first last arabic" start="7">
<li><p class="first">In the <strong>Visual Policy Editor</strong> window for the <strong>/Common/app.f5demo.com-policy</strong>, click</p>
<p>the <strong>Plus (+) Sign</strong> between <strong>Start</strong> and <strong>Deny</strong>.</p>
</li>
<li><p class="first">In the pop-up dialogue box select the <strong>Authentication</strong> tab and then click the <strong>Radio</strong></p>
<p><strong>Button</strong> next to <strong>SAML Auth</strong>. Once selected click the <strong>Add Item</strong> button.</p>
</li>
</ol>
</td>
</tr>
<tr class="row-even"><td><p class="first"><a class="reference internal" href="../../_images/image012.png"><img alt="image012" src="../../_images/image012.png" style="width: 4.5in; height: 1.12in;" /></a></p>
<p class="last"><a class="reference internal" href="../../_images/image013.png"><img alt="image013" src="../../_images/image013.png" style="width: 4.5in; height: 4.00in;" /></a></p>
</td>
</tr>
</tbody>
</table>
<table border="1" class="docutils align-default">
<colgroup>
<col width="100%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><ol class="first last arabic" start="9">
<li><p class="first">In the <strong>SAML Auth</strong> configuration window, select <strong>/Common/app.f5demo.com</strong> from the</p>
<p><strong>SAML Authentication</strong>, <strong>AAA Server</strong> drop down menu.</p>
</li>
<li><p class="first">Click the <strong>Save</strong> button at the bottom of the configuration window.</p>
</li>
</ol>
</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="../../_images/image014.png"><img alt="image014" src="../../_images/image014.png" style="width: 4.5in; height: 1.48in;" /></a></td>
</tr>
</tbody>
</table>
<table border="1" class="docutils align-default">
<colgroup>
<col width="100%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><ol class="first arabic simple" start="11">
<li>In the <strong>Visual Policy Editor</strong> select the <strong>Deny</strong> along the <strong>Successful</strong> branch</li>
</ol>
<blockquote>
<div>following the <strong>SAML Auth</strong></div></blockquote>
<ol class="arabic simple" start="12">
<li>From the <strong>Select Ending</strong> dialogue box select the <strong>Allow Radio Button</strong> and then</li>
</ol>
<blockquote class="last">
<div>click <strong>Save</strong>.</div></blockquote>
</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="../../_images/image015.png"><img alt="image015" src="../../_images/image015.png" style="width: 4.5in; height: 1.12in;" /></a></td>
</tr>
</tbody>
</table>
<table border="1" class="docutils align-default">
<colgroup>
<col width="100%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><ol class="first arabic simple" start="13">
<li>In the <strong>Visual Policy Editor</strong> click the <strong>Apply Access Policy</strong> (top left) and close</li>
</ol>
<blockquote>
<div>the <strong>Visual Policy Editor</strong>.</div></blockquote>
<p><em>Note: Additional actions can be taken in the Per Session policy (Access Policy). The lab</em></p>
<p><em>is simply completing authentication. Other access controls can be implemented based on the</em></p>
<p class="last"><em>use case</em></p>
</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="../../_images/image016.png"><img alt="image016" src="../../_images/image016.png" style="width: 4.5in; height: 1.54in;" /></a></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="task-5-create-the-sp-virtual-server-apply-the-sp-access-policy">
<h3>TASK 5: Create the SP Virtual Server &amp; Apply the SP Access Policy<a class="headerlink" href="#task-5-create-the-sp-virtual-server-apply-the-sp-access-policy" title="Permalink to this headline">¶</a></h3>
<p>Refer to the instructions and screen shots below:</p>
<table border="1" class="docutils align-default">
<colgroup>
<col width="100%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><ol class="first last arabic simple">
<li>Begin by selecting: <strong>Local Traffic</strong> -&gt; <strong>Virtual Servers</strong></li>
<li>Click the <strong>Create</strong> button (far right)</li>
</ol>
</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="../../_images/image017.png"><img alt="image017" src="../../_images/image017.png" style="width: 4.5in; height: 1.29in;" /></a></td>
</tr>
</tbody>
</table>
<table border="1" class="docutils align-default">
<colgroup>
<col width="100%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><ol class="first arabic simple" start="3">
<li>In the <strong>New Virtual Server</strong> window, key in the following as shown:<ul>
<li><strong>Name</strong>: <strong>app.f5demo.com</strong></li>
<li><strong>Destination Address/Mask</strong>: <strong>10.1.10.100</strong></li>
<li><strong>Service Port</strong>: <strong>443</strong></li>
<li><strong>HTTP Profile:</strong> <strong>http</strong> (drop down)</li>
<li><strong>SSL Profile (client):</strong> <strong>app.f5demo.com-clientssl</strong></li>
<li><strong>Source Address Translation:</strong>  <strong>Auto Map</strong></li>
</ul>
</li>
<li>Scroll to the <strong>Access Policy</strong> section<ul>
<li><strong>Access Profile</strong>: <strong>app.f5demo.com-policy</strong></li>
<li><strong>Per-Request Policy:</strong> <strong>saml_policy</strong></li>
</ul>
</li>
<li>Scroll to the Resource section<ul>
<li><strong>Default Pool</strong>: <strong>app.f5demo.com_pool</strong></li>
</ul>
</li>
<li>Scroll to the bottom of the configuration window and click <strong>Finished</strong></li>
</ol>
<p><em>Note: The use of the Per-Request Policy is to provide header injection and other controls.</em></p>
<p class="last"><em>These will be more utilized later in the lab.</em></p>
</td>
</tr>
<tr class="row-even"><td><p class="first"><a class="reference internal" href="../../_images/image018.png"><img alt="image018" src="../../_images/image018.png" style="width: 4.5in; height: 5.46in;" /></a></p>
<p class="last"><a class="reference internal" href="../../_images/image019.png"><img alt="image019" src="../../_images/image019.png" style="width: 4.5in; height: 2.13in;" /></a></p>
</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="task-6-test-the-saml-sp">
<h3>TASK 6: Test the SAML SP<a class="headerlink" href="#task-6-test-the-saml-sp" title="Permalink to this headline">¶</a></h3>
<p>Refer to the instructions and screen shots below:</p>
<table border="1" class="docutils align-default">
<colgroup>
<col width="100%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><ol class="first last arabic">
<li><p class="first">Using your browser from the Jump Host click on the provided bookmark or navigate to</p>
<p><a class="reference external" href="https://app.f5demo.com">https://app.f5demo.com</a> . The SAML SP that you have just configured.</p>
</li>
</ol>
</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="../../_images/image020.png"><img alt="image020" src="../../_images/image020.png" style="width: 4.5in; height: 1.01in;" /></a></td>
</tr>
</tbody>
</table>
<table border="1" class="docutils align-default">
<colgroup>
<col width="100%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><ol class="first last arabic" start="2">
<li><p class="first">Did you successfully redirect to the IdP?</p>
</li>
<li><p class="first">Login to the iDP, were you successfully authenticated? (use credentials provided in the</p>
<p>Authentication Information section at the beginning of this guide)</p>
<ul class="simple">
<li><strong>Username</strong>: <strong>user</strong></li>
<li><strong>Password</strong>: <strong>Agility1</strong></li>
</ul>
</li>
<li><p class="first">After successful authentication, were you returned to the SAML SP?</p>
</li>
<li><p class="first">Were you successfully authenticated (SAML)?</p>
</li>
<li><p class="first">Review your <strong>Active Sessions</strong> (<strong>Access Overview</strong> -&gt; <strong>Active Sessions</strong>)</p>
</li>
<li><p class="first">Review your Access Report Logs (<strong>Access</strong> -&gt; <strong>Overview Access Reports</strong>)</p>
</li>
</ol>
</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="../../_images/image021.png"><img alt="image021" src="../../_images/image021.png" style="width: 4.5in; height: 1.93in;" /></a></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>


     </div>
    
     <div class="row next-prev-btn-row">
       <div class="col-lg-12">
       
        <a href="intro.html" title="Welcome" accesskey="p" class="btn btn-primary left"><i class="fa fa-arrow-circle-left" aria-hidden="true"></i> Previous</a>
       
       
          <a href="lab2.html" title="Lab 2: IDaaS SAML Identity Provider (iDP) Lab (OKTA)" accesskey="n" class="btn btn-primary right">Next <i class="fa fa-arrow-circle-right" aria-hidden="true"></i></a>
       
     </div>
     </div>
    

    </article>
  </div>

</div>


  <div id="clouddocs-footer"></div>
  <!-- Bootstrap core JavaScript
  ================================================== -->
  <!-- Placed at the end of the document so the pages load faster -->

  <script src="../../_static/js/index.js"></script>
  <script src="../../_static/js/jquery.appear.js"></script>
  <script src="../../_static/js/printThis.js"></script>
  <script src="../../_static/js/bootstrap.min.js"></script>
  <script src="../../_static/js/clouddocs.js"></script>
  <script src="../../_static/js/CoveoJsSearch.Lazy.min.js"></script>
  </body>
</html>