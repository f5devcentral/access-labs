<!DOCTYPE html>
<head>
  
  <!-- Google Tag Manager -->
  <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src='https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);})(window,document,'script','dataLayer','GTM-PPZPQ6');</script>
  <!-- End Google Tag Manager -->
    <title>Lab 1: Access Guided Configuration - Per Request Policy</title>
  

  <meta charset="utf-8">
  <!-- Twitter Bootstrap viewport setting -->
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <!-- F5 metadata -->
  <meta name="title" content="Lab 1: Access Guided Configuration - Per Request Policy"/>
  <meta name="product" content="F5 Identity and Access Management Solutions"/>
  <meta name="version" content=""/>
  <meta name="updated_date"  content="2021-06-21 14:22:47"/>
  <meta name="archived" content="Archived documents excluded"/>
  <meta name="doc_type" content="Manual"/>
  <meta name="lifecycle" content="release"/>
  <meta name="F5 Identity and Access Management Solutions" content=""/>


  

  
  <link href="https://cdn.f5.com/favicon.ico" rel="icon">

</head>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Lab 1: Access Guided Configuration - Per Request Policy &#8212; F5 Identity and Access Management Solutions  documentation</title>
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/css/bootstrap.min.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/graphviz.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css" />
    <link rel="stylesheet" href="../../_static/css/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/css/f5.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/css/f5-theme.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/css/CoveoFullSearch.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/css/custom.css" type="text/css" />
    <link rel="stylesheet" href="https://use.fontawesome.com/21fb8a09c3.css" type="text/css" />
    <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/clipboard.min.js"></script>
    <script src="../../_static/copybutton.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Lab 2: Custom Per Request Policy" href="lab02.html" />
    <link rel="prev" title="Environment Overview" href="intro.html" /> 
  </head><body>
  <div id="clouddocs-header"></div>

    <div id="sidebar" class="section-nav">
      
      <!--  version selector ------------------>
      <div id="version_selector_wrapper">
      </div>
      <nav class="nav-sidebartoc">

        
         <h5>F5 Identity and Access Management Solutions  </h5>
        

        <hr>
        <span class="nav-sidebartoc">
            <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../class1/class1.html">100 Series: Access Foundational Concepts</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../class2/class2.html">200 Series: Assisted Deployment Use Cases</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../class3.html">300 Series: Advanced Use Cases &amp; Solutions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../class4/class4.html">400 Series: Access Automation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../class5/class5.html">500 Series: Troubleshooting</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../archived/archived.html">Archived Identity &amp; Access Management Labs</a></li>
</ul>

        </span><!-- Use this file to add extra links to the bottom of the ToC sidebar -->
<hr>
  <span class="nav-sidebartoc">
 <!-- insert content here -->
  </span>
      </nav>
    </div>


    <div id="right-sidebar">
      <h7 style="font-weight:normal">On this page:</h7>
      <nav class="nav-sidebartoc">
        <span class="nav-sidebartoc">
            <ul>
<li><a class="reference internal" href="#">Lab 1: Access Guided Configuration - Per Request Policy</a><ul>
<li><a class="reference internal" href="#objective">Objective:</a></li>
<li><a class="reference internal" href="#lab-requirements">Lab Requirements:</a></li>
<li><a class="reference internal" href="#lab-1-tasks">Lab 1 Tasks:</a><ul>
<li><a class="reference internal" href="#task-1-intialize-access-guided-configuration-agc">TASK 1: Intialize Access Guided Configuration (AGC)</a></li>
<li><a class="reference internal" href="#task-2-config-properties">TASK 2: Config Properties</a></li>
<li><a class="reference internal" href="#task-3-configure-virtual-server-properties">TASK: 3: Configure Virtual Server Properties</a></li>
<li><a class="reference internal" href="#task-4-configure-user-identity">TASK: 4: Configure User Identity</a></li>
<li><a class="reference internal" href="#task-5-single-sign-on-http-header">TASK 5: Single Sign-on &amp; HTTP Header</a></li>
<li><a class="reference internal" href="#task-6-applications">TASK 6: Applications</a></li>
<li><a class="reference internal" href="#task-7-application-groups">TASK 7: Application Groups</a></li>
<li><a class="reference internal" href="#task-8-contextual-access">TASK 8: Contextual Access</a></li>
<li><a class="reference internal" href="#task-9-customization">TASK 9: Customization</a></li>
<li><a class="reference internal" href="#task-10-session-management-properties">TASK 10: Session Management Properties</a></li>
<li><a class="reference internal" href="#task-11-summary">TASK 11: Summary</a></li>
<li><a class="reference internal" href="#task-12-testing">TASK 12: Testing</a></li>
<li><a class="reference internal" href="#task-13-review">TASK 13: Review</a></li>
<li><a class="reference internal" href="#task-14-end-of-lab1">TASK 14: End of Lab1</a></li>
</ul>
</li>
</ul>
</li>
</ul>

         </span>
      </nav>
    </div>





  
  <div class="main active" id="content" >
    <article class="docs-container site-article-inner">
              <!-- custom breadcrumb -->
        <h5>
            <a href="../../index.html">F5 Identity and Access Management Solutions</a>
              &gt; <a href="../class3.html">300 Series: Advanced Use Cases &amp; Solutions</a>

          <span class="right">
             <a href="../../_sources/class3/module3/lab01.rst.txt" rel="nofollow">Source</a> |
             <a href="https://github.com/f5devcentral/f5-agility-labs-iam">Edit on <i class="fa fa-github" aria-hidden="true"></i></a>
          </span>
        </h5>
        <!-- end custom breadcrumb -->
      


    <!--a title="Export PDF" id="export-pdf" class="btn btn btn-link pull-right">View PDF</a-->
    <button type="button" id="export-pdf" class="btn btn-link right">PDF</button>


    
     
         <div class="sidebar" id="version-warning" style="display: none;">
           <p class="first sidebar-title">
           <span class="icon fa fa-info-circle fa-lg"></span> Version notice:</p>
           <p class="last" id="currentVersion"></p>
          </div>


     <div role="main">
        
  <div class="section" id="lab-1-access-guided-configuration-per-request-policy">
<h1>Lab 1: Access Guided Configuration - Per Request Policy<a class="headerlink" href="#lab-1-access-guided-configuration-per-request-policy" title="Permalink to this headline">¶</a></h1>
<p>The purpose of this lab is to leverage Access Guided Configuration (AGC) to
deploy an Identity Aware Proxy extended by Per Request Policies (PRP) access
controls. The Per Request Policies will restrict access based on AD Group
Membership and the URI accessed. Students will configure the various aspects
of the application using strictly AGC, review the configuration and perform
tests of the deployment.</p>
<div class="section" id="objective">
<h2>Objective:<a class="headerlink" href="#objective" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Gain an understanding of Access Guided Configurations and
its various configurations and deployment models</li>
<li>Gain an initial understanding of Per Request Policies and their applicability
in various delivery and control scenarios</li>
</ul>
</div>
<div class="section" id="lab-requirements">
<h2>Lab Requirements:<a class="headerlink" href="#lab-requirements" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>All Lab requirements will be noted in the tasks that follow</li>
<li>Estimated completion time: 30 minutes</li>
</ul>
</div>
<div class="section" id="lab-1-tasks">
<h2>Lab 1 Tasks:<a class="headerlink" href="#lab-1-tasks" title="Permalink to this headline">¶</a></h2>
<div class="section" id="task-1-intialize-access-guided-configuration-agc">
<h3>TASK 1: Intialize Access Guided Configuration (AGC)<a class="headerlink" href="#task-1-intialize-access-guided-configuration-agc" title="Permalink to this headline">¶</a></h3>
<table border="1" class="docutils align-default">
<colgroup>
<col width="100%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><ol class="first last arabic">
<li><p class="first">Login to your provided lab Virtual Edition: <strong>bigp1.f5lab.local</strong></p>
</li>
<li><p class="first">Navigate to:  <strong>Access -&gt; Guided Configuration</strong></p>
</li>
<li><p class="first">Click the <strong>Zero Trust</strong> graphic as shown.</p>
</li>
<li><p class="first">Click on the <strong>Identity Aware Proxy</strong>  dialogue box click under <strong>Zero Trust</strong></p>
<p>in the navigation as shown.</p>
</li>
</ol>
</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="../../_images/lab1-0011.png"><img alt="image001" src="../../_images/lab1-0011.png" style="width: 800px;" /></a></td>
</tr>
</tbody>
</table>
<table border="1" class="docutils align-default">
<colgroup>
<col width="100%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><ol class="first last arabic" start="5">
<li><p class="first">Review the <strong>Identity Aware Proxy Application</strong> configuration example presented.</p>
</li>
<li><p class="first">Scroll through and review the remaining element of the dialogue box to the bottom of the</p>
<p>screen and click <strong>Next</strong>.</p>
</li>
</ol>
</td>
</tr>
<tr class="row-even"><td><p class="first"><a class="reference internal" href="../../_images/lab1-0021.png"><img alt="image002" src="../../_images/lab1-0021.png" style="width: 800px;" /></a></p>
<p class="last"><a class="reference internal" href="../../_images/lab1-0031.png"><img alt="image003" src="../../_images/lab1-0031.png" style="width: 800px;" /></a></p>
</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="task-2-config-properties">
<h3>TASK 2: Config Properties<a class="headerlink" href="#task-2-config-properties" title="Permalink to this headline">¶</a></h3>
<table border="1" class="docutils align-default">
<colgroup>
<col width="100%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><ol class="first last arabic simple">
<li>In the <strong>Configuration Name</strong> dialogue box, enter <strong>agc-app.acme.com</strong>.</li>
<li>Toggle <strong>Single Sign-On (SSO) &amp; HTTP Header</strong> to the <strong>On</strong> position.</li>
<li>Toggle <strong>Application Groups</strong> to the <strong>On</strong> position.</li>
<li>Toggle <strong>Webtop</strong> to the <strong>Off</strong> position.</li>
<li>Click <strong>Save &amp; Next</strong> at the bottom of the dialogue window.</li>
</ol>
</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="../../_images/lab1-0041.png"><img alt="image004" src="../../_images/lab1-0041.png" style="width: 800px;" /></a></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="task-3-configure-virtual-server-properties">
<h3>TASK: 3: Configure Virtual Server Properties<a class="headerlink" href="#task-3-configure-virtual-server-properties" title="Permalink to this headline">¶</a></h3>
<table border="1" class="docutils align-default">
<colgroup>
<col width="100%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><ol class="first last arabic simple">
<li>Select the <strong>Create New</strong> radio button under <strong>Virtual Server</strong></li>
<li>Select the <strong>Host</strong> radio button under <strong>Destination Address</strong></li>
<li>Enter the IP Address <strong>10.1.10.100</strong> in the dialogue box for <strong>Destination Address</strong>.</li>
<li>Confirm the <strong>Enable Redirect Port</strong> is checked.</li>
<li>Confirm the <strong>Rediect Port</strong> is <strong>80</strong> and <strong>HTTP</strong>.</li>
<li>Select the <strong>Use Existing</strong> radio button under <strong>Client SSL Profile</strong></li>
<li>Move the <strong>f5demo</strong> Client SSL Profile to the right, <strong>Selected</strong></li>
<li>Scroll to the bottom of the dialogue window and Click <strong>Save &amp; Next</strong>.</li>
</ol>
</td>
</tr>
<tr class="row-even"><td><p class="first"><a class="reference internal" href="../../_images/lab1-0051.png"><img alt="image005" src="../../_images/lab1-0051.png" style="width: 800px;" /></a></p>
<p class="last"><a class="reference internal" href="../../_images/lab1-0061.png"><img alt="image006" src="../../_images/lab1-0061.png" style="width: 800px;" /></a></p>
</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="task-4-configure-user-identity">
<h3>TASK: 4: Configure User Identity<a class="headerlink" href="#task-4-configure-user-identity" title="Permalink to this headline">¶</a></h3>
<table border="1" class="docutils align-default">
<colgroup>
<col width="100%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><ol class="first last arabic simple">
<li>Click the <strong>Add</strong> button on the <strong>User Identity</strong> dialogue window.</li>
</ol>
</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="../../_images/lab1-007.png"><img alt="image007" src="../../_images/lab1-007.png" style="width: 800px;" /></a></td>
</tr>
</tbody>
</table>
<table border="1" class="docutils align-default">
<colgroup>
<col width="100%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><ol class="first last arabic simple" start="2">
<li>In the resulting dialogue window, enter <strong>agc-f5lab-AD</strong> in the <strong>Name</strong> field.</li>
<li>Confirm <strong>Authentication Type</strong> is <strong>AAA</strong></li>
<li>Confirm <strong>Choose Authentication Server Type</strong> is <strong>Active Directory</strong></li>
<li>Select <strong>f5lab.local</strong> from the <strong>Choose Authentication Server</strong> drop down.</li>
</ol>
</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="../../_images/lab1-0081.png"><img alt="image008" src="../../_images/lab1-0081.png" style="width: 800px;" /></a></td>
</tr>
</tbody>
</table>
<table border="1" class="docutils align-default">
<colgroup>
<col width="100%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><ol class="first last arabic simple" start="6">
<li>Check the <strong>Active Directory Query Properties</strong> checkbox.</li>
<li>Confirm the <strong>Search Filter Type</strong> &amp; <strong>Search Filter</strong> match <strong>sAMAccountName</strong> values.</li>
<li>Check the <strong>Fetch Nested Group</strong> checkbox.</li>
<li>Move the <strong>memberOf</strong> to the right under <strong>Required Attributes</strong> <strong>Selected</strong>.</li>
<li>Click <strong>Save</strong> at the bottom of the dialogue window.</li>
</ol>
</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="../../_images/lab1-0091.png"><img alt="image009" src="../../_images/lab1-0091.png" style="width: 800px;" /></a></td>
</tr>
</tbody>
</table>
<table border="1" class="docutils align-default">
<colgroup>
<col width="100%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><ol class="first last arabic" start="11">
<li><p class="first">In the dialogue window that follows for <strong>User Identity</strong>, confirm <strong>agc-f5lab-AD</strong> is</p>
<p>listed, then click <strong>Save &amp; Next</strong> at the bottom if the dialogue window.</p>
</li>
</ol>
</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="../../_images/lab1-0101.png"><img alt="image010" src="../../_images/lab1-0101.png" style="width: 800px;" /></a></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="task-5-single-sign-on-http-header">
<h3>TASK 5: Single Sign-on &amp; HTTP Header<a class="headerlink" href="#task-5-single-sign-on-http-header" title="Permalink to this headline">¶</a></h3>
<table border="1" class="docutils align-default">
<colgroup>
<col width="100%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><ol class="first last arabic simple">
<li>Click the <strong>Add</strong> button on the <strong>Single Sign-on &amp; HTTP Header</strong> dialogue window.</li>
</ol>
</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="../../_images/lab1-0111.png"><img alt="image011" src="../../_images/lab1-0111.png" style="width: 800px;" /></a></td>
</tr>
</tbody>
</table>
<table border="1" class="docutils align-default">
<colgroup>
<col width="100%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><ol class="first last arabic" start="2">
<li><p class="first">In the resulting <strong>Single Sign-on &amp; HTTP Header Properties</strong> dialogue window. Enter</p>
<p><strong>agc-app-header</strong> in the <strong>Name</strong> field.</p>
</li>
<li><p class="first">Select the <strong>HTTP Headers</strong> radio button under <strong>Type</strong></p>
</li>
<li><p class="first">Click the <strong>+ (Plus Symbol)</strong> in the <strong>Action</strong> column of the <strong>SSO Headers</strong> section.</p>
</li>
<li><p class="first">In the new <strong>SSO Headers</strong> row, enter the following values:</p>
<ul class="simple">
<li><strong>Header Operation</strong>: <strong>replace</strong></li>
<li><strong>Header Name</strong>: <strong>agc-app-uid</strong></li>
<li><strong>Header Value</strong>: <strong>%{subsession.logon.last.username}</strong></li>
</ul>
</li>
<li><p class="first">Repeat steps 4 &amp; 5 with the following values:</p>
<ul class="simple">
<li><strong>Header Operation</strong>: <strong>replace</strong></li>
<li><strong>Header Name</strong>: <strong>agc-memberOf</strong></li>
<li><strong>Header Value</strong>: <strong>%{subsession.ad.last.attr.memberOf}</strong></li>
</ul>
</li>
<li><p class="first">At the bottom of the screen, click <strong>Save</strong></p>
</li>
</ol>
</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="../../_images/lab1-012.png"><img alt="image012" src="../../_images/lab1-012.png" style="width: 800px;" /></a></td>
</tr>
</tbody>
</table>
<table border="1" class="docutils align-default">
<colgroup>
<col width="100%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><ol class="first last arabic" start="8">
<li><p class="first">In the dialogue window that follows for <strong>Single Sign-on &amp; HTTP Header</strong>, confirm</p>
<p><strong>agc-app-header</strong> is listed, then click <strong>Save &amp; Next</strong> at the bottom if the</p>
<p>dialogue window.</p>
</li>
</ol>
</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="../../_images/lab1-013.png"><img alt="image013" src="../../_images/lab1-013.png" style="width: 800px;" /></a></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="task-6-applications">
<h3>TASK 6: Applications<a class="headerlink" href="#task-6-applications" title="Permalink to this headline">¶</a></h3>
<table border="1" class="docutils align-default">
<colgroup>
<col width="100%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><ol class="first last arabic simple">
<li>Click the <strong>Add</strong> button in the <strong>Applications</strong> dialogue window.</li>
</ol>
</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="../../_images/lab1-0141.png"><img alt="image014" src="../../_images/lab1-0141.png" style="width: 800px;" /></a></td>
</tr>
</tbody>
</table>
<table border="1" class="docutils align-default">
<colgroup>
<col width="100%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><ol class="first last arabic" start="2">
<li><p class="first">In the <strong>Application Properties</strong> dialogue window, toggle <strong>Advanced Settings</strong> to the</p>
<p><strong>On</strong> position.</p>
</li>
<li><p class="first">In the <strong>Name</strong> field enter <strong>agc-app.acme.com</strong>.</p>
</li>
<li><p class="first">In the <strong>FQDN</strong> field enter <strong>agc-app.acme.com</strong>.</p>
</li>
<li><p class="first">In the <strong>Subpath Pattern</strong> field enter <strong>/apps/app1*</strong>.</p>
</li>
<li><p class="first">On the <strong>Subpath Pattern</strong> row entered in Step 5, click the <strong>+ (Plus Symbol)</strong> twice</p>
<p>to add two more rows.</p>
</li>
<li><p class="first">In the two new rows add <strong>/apps/app2*</strong> and <strong>/apps/app3*</strong> respectively.</p>
</li>
</ol>
</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="../../_images/lab1-0151.png"><img alt="image015" src="../../_images/lab1-0151.png" style="width: 800px;" /></a></td>
</tr>
</tbody>
</table>
<table border="1" class="docutils align-default">
<colgroup>
<col width="100%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><ol class="first last arabic" start="8">
<li><p class="first">In the <strong>Pool Configuration</strong> section, under <strong>Health Monitors</strong> area move</p>
<p><strong>/Common/http</strong> to the right <strong>Selected</strong> side.</p>
</li>
<li><p class="first">In the <strong>Pool Configuration</strong> section, under <strong>Load Balancing Method</strong> area select</p>
<p><strong>/Common/10.1.20.6</strong> from the <strong>IP Address/Node name</strong></p>
</li>
<li><p class="first">Click the <strong>Save</strong> button at the bottom of the dialogue window.</p>
</li>
</ol>
</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="../../_images/lab1-0161.png"><img alt="image016" src="../../_images/lab1-0161.png" style="width: 800px;" /></a></td>
</tr>
</tbody>
</table>
<table border="1" class="docutils align-default">
<colgroup>
<col width="100%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><ol class="first last arabic" start="11">
<li><p class="first">In the <strong>Applications</strong> dialogue window that follows, expand the <strong>Subpaths</strong> and ensure</p>
<p>/apps/app1*, /apps/app2*, /apps/app3* are present for the <strong>agc-app.acme.com</strong> row.</p>
</li>
<li><p class="first">Click the <strong>Save &amp; Next</strong> button at the bottom of the dialogue window.</p>
</li>
</ol>
</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="../../_images/lab1-0171.png"><img alt="image017" src="../../_images/lab1-0171.png" style="width: 800px;" /></a></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="task-7-application-groups">
<h3>TASK 7: Application Groups<a class="headerlink" href="#task-7-application-groups" title="Permalink to this headline">¶</a></h3>
<table border="1" class="docutils align-default">
<colgroup>
<col width="100%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><ol class="first last arabic simple">
<li>Click the <strong>Add</strong> button in the <strong>Application Groups</strong> dialogue window.</li>
</ol>
</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="../../_images/lab1-018.png"><img alt="image018" src="../../_images/lab1-018.png" style="width: 800px;" /></a></td>
</tr>
</tbody>
</table>
<table border="1" class="docutils align-default">
<colgroup>
<col width="100%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><ol class="first last arabic" start="2">
<li><p class="first">In the resulting <strong>Application Group Properties</strong> dialogue window, enter <strong>app1</strong> in the</p>
<p><strong>Name</strong> field.</p>
</li>
<li><p class="first">Move <strong>/apps/app1*</strong> from the <strong>Available</strong> side to the <strong>Selected</strong> side under</p>
<p><strong>Application List</strong>.</p>
</li>
<li><p class="first">Click the <strong>Save</strong> button at the bottom of the dialogue window.</p>
</li>
</ol>
</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="../../_images/lab1-019.png"><img alt="image019" src="../../_images/lab1-019.png" style="width: 800px;" /></a></td>
</tr>
</tbody>
</table>
<table border="1" class="docutils align-default">
<colgroup>
<col width="100%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><ol class="first last arabic" start="5">
<li><p class="first">Click the <strong>Add</strong> button in the <strong>Application Groups</strong> dialogue window that follows and</p>
<p>repeat steps 2 through 4 using the following values:</p>
<ul class="simple">
<li><strong>Name</strong>: app2, <strong>Selected</strong>: <strong>/apps/app2*</strong></li>
<li><strong>Name</strong>: app3, <strong>Selected</strong>: <strong>/apps/app3*</strong></li>
<li><strong>Name</strong>: base, <strong>Selected</strong>: <strong>/</strong></li>
</ul>
</li>
</ol>
</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="../../_images/lab1-020.png"><img alt="image020" src="../../_images/lab1-020.png" style="width: 800px;" /></a></td>
</tr>
</tbody>
</table>
<table border="1" class="docutils align-default">
<colgroup>
<col width="100%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><ol class="first last arabic simple" start="6">
<li>Review the <strong>Applications Groups</strong> dialogue window following completion of step 5 and</li>
<li>Click the <strong>Save &amp; Next</strong> button at the bottom of the dialogue window.</li>
</ol>
</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="../../_images/lab1-021.png"><img alt="image021" src="../../_images/lab1-021.png" style="width: 800px;" /></a></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="task-8-contextual-access">
<h3>TASK 8: Contextual Access<a class="headerlink" href="#task-8-contextual-access" title="Permalink to this headline">¶</a></h3>
<table border="1" class="docutils align-default">
<colgroup>
<col width="100%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><ol class="first last arabic simple">
<li>Click the <strong>Add</strong> button in the <strong>Contextual Access</strong> dialogue window.</li>
</ol>
</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="../../_images/lab1-022.png"><img alt="image022" src="../../_images/lab1-022.png" style="width: 800px;" /></a></td>
</tr>
</tbody>
</table>
<table border="1" class="docutils align-default">
<colgroup>
<col width="100%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><ol class="first last arabic" start="2">
<li><p class="first">In the <strong>Contextual Access Properties</strong> dialigue window that follows, enter</p>
<p><strong>app1-access</strong> in the <strong>Name</strong> field.</p>
</li>
<li><p class="first">Select <strong>Application Group</strong> from the <strong>Resource Type</strong> drop down.</p>
</li>
<li><p class="first">Select <strong>app1</strong> from the <strong>Resource</strong> drop down.</p>
</li>
<li><p class="first">Select <strong>agc-f5lab-AD</strong> from the <strong>Primary Authentication</strong> drop down.</p>
</li>
<li><p class="first">Select <strong>agc-app-header</strong> from the <strong>HTTP Header</strong> drop down.</p>
</li>
</ol>
</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="../../_images/lab1-023.png"><img alt="image023" src="../../_images/lab1-023.png" style="width: 800px;" /></a></td>
</tr>
</tbody>
</table>
<table border="1" class="docutils align-default">
<colgroup>
<col width="100%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><ol class="first last arabic" start="7">
<li><p class="first">In the <strong>Assign User Groups</strong> section, scroll through the available groups to find the</p>
<p><strong>app1</strong> <strong>Group Name</strong>. Click the <strong>Add</strong> button in the <strong>Action</strong> column.</p>
<p>(The filter can be used to find the appropriate group faster.)</p>
</li>
<li><p class="first">Verify the added group in the <strong>Selected User Groups</strong>.</p>
</li>
<li><p class="first">Click the <strong>Save</strong> button at the bottom of the dialogue window.</p>
</li>
</ol>
</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="../../_images/lab1-024.png"><img alt="image024" src="../../_images/lab1-024.png" style="width: 800px;" /></a></td>
</tr>
</tbody>
</table>
<table border="1" class="docutils align-default">
<colgroup>
<col width="100%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><ol class="first last arabic" start="10">
<li><p class="first">Click the <strong>Add</strong> button in the <strong>Contextual Access</strong> dialogue window.</p>
</li>
<li><p class="first">Repeat steps 2 through 9 for <strong>app2</strong> and <strong>app3</strong> using the following values</p>
<p><strong>App2</strong></p>
<p>Contextual Access Properties</p>
<ul class="simple">
<li><strong>Name</strong>: <strong>app2-access</strong></li>
<li><strong>Resource Type</strong>: <strong>Application Group</strong></li>
<li><strong>Resource</strong>: <strong>app2</strong></li>
<li><strong>Primary Authentication</strong>: <strong>agc-f5lab-AD</strong></li>
<li><strong>HTTP Header</strong>: <strong>agc-app-header</strong></li>
</ul>
<p>Assign User Groups</p>
<ul class="simple">
<li>Add <strong>Group Name</strong> <strong>app2</strong></li>
</ul>
<p><strong>App3</strong></p>
<p>Contextual Access Properties</p>
<ul class="simple">
<li><strong>Name</strong>: <strong>app3-access</strong></li>
<li><strong>Resource Type</strong>: <strong>Application Group</strong></li>
<li><strong>Resource</strong>: <strong>app3</strong></li>
<li><strong>Primary Authentication</strong>: <strong>agc-f5lab-AD</strong></li>
<li><strong>HTTP Header</strong>: <strong>agc-app-header</strong></li>
</ul>
<p>Assign User Groups</p>
<ul class="simple">
<li>Add <strong>Group Name</strong> <strong>app3</strong></li>
</ul>
</li>
</ol>
</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="../../_images/lab1-025.png"><img alt="image025" src="../../_images/lab1-025.png" style="width: 800px;" /></a></td>
</tr>
</tbody>
</table>
<table border="1" class="docutils align-default">
<colgroup>
<col width="100%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><ol class="first last arabic simple" start="12">
<li>Click the <strong>Add</strong> button in the <strong>Contextual Access</strong> dialogue window.</li>
</ol>
</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="../../_images/lab1-026.png"><img alt="image026" src="../../_images/lab1-026.png" style="width: 800px;" /></a></td>
</tr>
</tbody>
</table>
<table border="1" class="docutils align-default">
<colgroup>
<col width="100%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><ol class="first last arabic" start="13">
<li><p class="first">In the <strong>Contextual Access Properties</strong> dialogue window that follows, enter</p>
<p><strong>base-access</strong> in the <strong>Name</strong> field.</p>
</li>
<li><p class="first">Select <strong>Application Group</strong> from the <strong>Resource Type</strong> drop down.</p>
</li>
<li><p class="first">Select <strong>base</strong> from the <strong>Resource</strong> drop down.</p>
</li>
<li><p class="first">Select <strong>agc-f5lab-AD</strong> from the <strong>Primary Authentication</strong> drop down.</p>
</li>
<li><p class="first">Select <strong>agc-app-header</strong> from the <strong>HTTP Header</strong> drop down.</p>
</li>
</ol>
</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="../../_images/lab1-027.png"><img alt="image027" src="../../_images/lab1-027.png" style="width: 800px;" /></a></td>
</tr>
</tbody>
</table>
<table border="1" class="docutils align-default">
<colgroup>
<col width="100%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><ol class="first last arabic" start="18">
<li><p class="first">In the <strong>Assign User Groups</strong> section, scroll through the available groups to find the</p>
<p><strong>Sales Engineering</strong> <strong>Group Name</strong>. Click the <strong>Add</strong> button in the <strong>Action</strong> column.</p>
</li>
<li><p class="first">Verify the added group in the <strong>Selected User Groups</strong>.</p>
</li>
<li><p class="first">Click the <strong>Save</strong> button at the bottom of the dialogue window.</p>
</li>
</ol>
</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="../../_images/lab1-028.png"><img alt="image028" src="../../_images/lab1-028.png" style="width: 800px;" /></a></td>
</tr>
</tbody>
</table>
<table border="1" class="docutils align-default">
<colgroup>
<col width="100%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><ol class="first last arabic" start="21">
<li><p class="first">Review the resulting <strong>Contextual Access</strong> dialogue window for completion of all</p>
<p>created access rules.</p>
</li>
<li><p class="first">Click the <strong>Save &amp; Next</strong> button at the bottom of the dialogue window.</p>
</li>
</ol>
</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="../../_images/lab1-029.png"><img alt="image029" src="../../_images/lab1-029.png" style="width: 800px;" /></a></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="task-9-customization">
<h3>TASK 9: Customization<a class="headerlink" href="#task-9-customization" title="Permalink to this headline">¶</a></h3>
<table border="1" class="docutils align-default">
<colgroup>
<col width="100%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><ol class="first last arabic">
<li><p class="first">Scroll the bottom of the <strong>Customization Properties</strong> dialogue window, leaving all</p>
<p>defaults and then click <strong>Save &amp; Next</strong>.</p>
</li>
</ol>
</td>
</tr>
<tr class="row-even"><td><p class="first"><a class="reference internal" href="../../_images/lab1-030.png"><img alt="image030" src="../../_images/lab1-030.png" style="width: 800px;" /></a></p>
<p class="last"><a class="reference internal" href="../../_images/lab1-031.png"><img alt="image031" src="../../_images/lab1-031.png" style="width: 800px;" /></a></p>
</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="task-10-session-management-properties">
<h3>TASK 10: Session Management Properties<a class="headerlink" href="#task-10-session-management-properties" title="Permalink to this headline">¶</a></h3>
<table border="1" class="docutils align-default">
<colgroup>
<col width="100%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><ol class="first last arabic">
<li><p class="first">Scroll the bottom of the <strong>Session Management Properties</strong> dialogue window, leaving all</p>
<p>defaults and then click <strong>Save &amp; Next</strong>.</p>
</li>
</ol>
</td>
</tr>
<tr class="row-even"><td><p class="first"><a class="reference internal" href="../../_images/lab1-032.png"><img alt="image032" src="../../_images/lab1-032.png" style="width: 800px;" /></a></p>
<p class="last"><a class="reference internal" href="../../_images/lab1-033.png"><img alt="image033" src="../../_images/lab1-033.png" style="width: 800px;" /></a></p>
</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="task-11-summary">
<h3>TASK 11: Summary<a class="headerlink" href="#task-11-summary" title="Permalink to this headline">¶</a></h3>
<table border="1" class="docutils align-default">
<colgroup>
<col width="100%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><ol class="first last arabic">
<li><p class="first">In the resulting <strong>Summary</strong> dialogue window, review the configured elements and then</p>
<p>click the <strong>Deploy</strong> button.</p>
</li>
</ol>
</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="../../_images/lab1-034.png"><img alt="image034" src="../../_images/lab1-034.png" style="width: 800px;" /></a></td>
</tr>
</tbody>
</table>
<table border="1" class="docutils align-default">
<colgroup>
<col width="100%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><ol class="first last arabic" start="2">
<li><p class="first">Click the <strong>Finish</strong> button in the final dialogue window. Access Guided Configuration</p>
<p>will return to the start screen and <strong>agc-app.acme.com</strong> will be <strong>DEPLOYED</strong></p>
</li>
</ol>
</td>
</tr>
<tr class="row-even"><td><p class="first"><a class="reference internal" href="../../_images/lab1-035.png"><img alt="image035" src="../../_images/lab1-035.png" style="width: 800px;" /></a></p>
<p class="last"><a class="reference internal" href="../../_images/lab1-036.png"><img alt="image036" src="../../_images/lab1-036.png" style="width: 800px;" /></a></p>
</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="task-12-testing">
<h3>TASK 12: Testing<a class="headerlink" href="#task-12-testing" title="Permalink to this headline">¶</a></h3>
<table border="1" class="docutils align-default">
<colgroup>
<col width="100%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><ol class="first last arabic">
<li><p class="first">Begin a RDP session with the <strong>Jumphost (10.1.10.10)</strong> through the Student Portal.</p>
</li>
<li><p class="first">Open Firefox from the desktop and navigate to <strong>https://agc-app.acme.com</strong>.  A bookmark</p>
<p>link has been provided in the toolbar.</p>
</li>
<li><p class="first">Logon to the resulting logon page with <strong>UserID: user1</strong> and <strong>Password: user1</strong></p>
</li>
</ol>
</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="../../_images/lab1-037.png"><img alt="image037" src="../../_images/lab1-037.png" style="width: 800px;" /></a></td>
</tr>
</tbody>
</table>
<table border="1" class="docutils align-default">
<colgroup>
<col width="100%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><ol class="first last arabic" start="4">
<li><p class="first">Click on the <strong>Application 1</strong> button in the <strong>ACME Application/Service Portal</strong>.</p>
</li>
<li><p class="first">A new tab will open displaying received headers demonstrating the user has accces to the</p>
<p>application.</p>
</li>
</ol>
</td>
</tr>
<tr class="row-even"><td><p class="first"><a class="reference internal" href="../../_images/lab1-038.png"><img alt="image038" src="../../_images/lab1-038.png" style="width: 800px;" /></a></p>
<p class="last"><a class="reference internal" href="../../_images/lab1-039.png"><img alt="image039" src="../../_images/lab1-039.png" style="width: 800px;" /></a></p>
</td>
</tr>
</tbody>
</table>
<table border="1" class="docutils align-default">
<colgroup>
<col width="100%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><ol class="first last arabic" start="6">
<li><p class="first">Return to the <strong>ACME Application/Service Portal</strong> and click <strong>Application 2</strong>.</p>
</li>
<li><p class="first">A new tab will open displaying a <strong>Block Page</strong> (customizable), restricting access to the</p>
<p>application based on AD group membership.</p>
</li>
</ol>
</td>
</tr>
<tr class="row-even"><td><p class="first"><a class="reference internal" href="../../_images/lab1-040.png"><img alt="image040" src="../../_images/lab1-040.png" style="width: 800px;" /></a></p>
<p class="last"><a class="reference internal" href="../../_images/lab1-041.png"><img alt="image041" src="../../_images/lab1-041.png" style="width: 800px;" /></a></p>
</td>
</tr>
</tbody>
</table>
<table border="1" class="docutils align-default">
<colgroup>
<col width="100%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><ol class="first last arabic" start="8">
<li><p class="first">Close the open application tabs and return to the <strong>ACME Application/Service Portal</strong></p>
<p>and click the <strong>Logout</strong> button, then close the browser.</p>
</li>
<li><p class="first">Run the <strong>Add-User1-to-App2</strong> Powesrshell script link provided on the <strong>Jumphost</strong></p>
<p>desktop. The script will run and automatically close.</p>
</li>
</ol>
</td>
</tr>
<tr class="row-even"><td><p class="first"><a class="reference internal" href="../../_images/lab1-042.png"><img alt="image042" src="../../_images/lab1-042.png" style="width: 800px;" /></a></p>
<p class="last"><a class="reference internal" href="../../_images/lab1-043.png"><img alt="image043" src="../../_images/lab1-043.png" style="width: 800px;" /></a></p>
</td>
</tr>
</tbody>
</table>
<table border="1" class="docutils align-default">
<colgroup>
<col width="100%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><ol class="first last arabic" start="10">
<li><p class="first">Reopen Firefox using the desktop link on the <strong>Jumphost</strong> and launch the</p>
<p><strong>agc-app.acme.com</strong> application from the link provided in the broswer.</p>
</li>
<li><p class="first">Click on the <strong>Application 2</strong> button in the <strong>ACME Application/Service Portal</strong>.</p>
</li>
<li><p class="first">A new tab will open displaying received headers demonstrating the user has accces to the</p>
<p>application becasue of the change in the user’s Group Membership.</p>
</li>
</ol>
</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="../../_images/lab1-044.png"><img alt="image044" src="../../_images/lab1-044.png" style="width: 800px;" /></a></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="task-13-review">
<h3>TASK 13: Review<a class="headerlink" href="#task-13-review" title="Permalink to this headline">¶</a></h3>
<table border="1" class="docutils align-default">
<colgroup>
<col width="100%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><ol class="first last arabic">
<li><p class="first">Login to your provided lab Virtual Edition: <strong>bigp1.f5lab.local</strong></p>
</li>
<li><p class="first">Navigate to:  <strong>Access -&gt; Overview -&gt; Active Sessions</strong></p>
</li>
<li><p class="first">Here you can see the active session and any subsessions created by virtue of the Per</p>
<p>Request Policies and view their associated varibles.</p>
</li>
<li><p class="first">Click on the <strong>View</strong> asscoiated with the active session’s subsession.</p>
</li>
</ol>
</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="../../_images/lab1-045.png"><img alt="image045" src="../../_images/lab1-045.png" style="width: 800px;" /></a></td>
</tr>
</tbody>
</table>
<table border="1" class="docutils align-default">
<colgroup>
<col width="100%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><ol class="first last arabic" start="5">
<li><p class="first">In the resulting variable view, review the subsession variables created as a result of</p>
<p>access requests performed in testing.</p>
</li>
</ol>
</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="../../_images/lab1-046.png"><img alt="image046" src="../../_images/lab1-046.png" style="width: 800px;" /></a></td>
</tr>
</tbody>
</table>
<table border="1" class="docutils align-default">
<colgroup>
<col width="100%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><ol class="first last arabic" start="6">
<li><p class="first">Navigate to: <strong>Access -&gt; Profiles/Policies -&gt; Per-Request Policies</strong> in the left-hand</p>
<p>navigation menu.</p>
</li>
<li><p class="first">In the resulting dialogue window, click on the <strong>Edit</strong> link in the</p>
<p><strong>agc-app.acme.com_perRequestPolicy</strong> row.</p>
</li>
<li><p class="first">Review the created Per Request Policy</p>
</li>
</ol>
</td>
</tr>
<tr class="row-even"><td><p class="first"><a class="reference internal" href="../../_images/lab1-047.png"><img alt="image047" src="../../_images/lab1-047.png" style="width: 800px;" /></a></p>
<p class="last"><a class="reference internal" href="../../_images/lab1-048.png"><img alt="image048" src="../../_images/lab1-048.png" style="width: 800px;" /></a></p>
</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="task-14-end-of-lab1">
<h3>TASK 14: End of Lab1<a class="headerlink" href="#task-14-end-of-lab1" title="Permalink to this headline">¶</a></h3>
<table border="1" class="docutils align-default">
<colgroup>
<col width="100%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><ol class="first last arabic simple">
<li>This concludes Lab1, feel free to review and test the configuration.</li>
</ol>
</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="../../_images/image00111.png"><img alt="image000" src="../../_images/image00111.png" style="width: 800px;" /></a></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>


     </div>
    
     <div class="row next-prev-btn-row">
       <div class="col-lg-12">
       
        <a href="intro.html" title="Environment Overview" accesskey="p" class="btn btn-primary left"><i class="fa fa-arrow-circle-left" aria-hidden="true"></i> Previous</a>
       
       
          <a href="lab02.html" title="Lab 2: Custom Per Request Policy" accesskey="n" class="btn btn-primary right">Next <i class="fa fa-arrow-circle-right" aria-hidden="true"></i></a>
       
     </div>
     </div>
    

    </article>
  </div>

</div>


  <div id="clouddocs-footer"></div>
  <!-- Bootstrap core JavaScript
  ================================================== -->
  <!-- Placed at the end of the document so the pages load faster -->

  <script src="../../_static/js/index.js"></script>
  <script src="../../_static/js/jquery.appear.js"></script>
  <script src="../../_static/js/printThis.js"></script>
  <script src="../../_static/js/bootstrap.min.js"></script>
  <script src="../../_static/js/clouddocs.js"></script>
  <script src="../../_static/js/CoveoJsSearch.Lazy.min.js"></script>
  </body>
</html>