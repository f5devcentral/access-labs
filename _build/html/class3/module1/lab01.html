<!DOCTYPE html>
<head>
  
  <!-- Google Tag Manager -->
  <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src='https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);})(window,document,'script','dataLayer','GTM-PPZPQ6');</script>
  <!-- End Google Tag Manager -->
    <title>Lab 1: SAML Service Provider (SP) Lab</title>
  

  <meta charset="utf-8">
  <!-- Twitter Bootstrap viewport setting -->
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <!-- F5 metadata -->
  <meta name="title" content="Lab 1: SAML Service Provider (SP) Lab"/>
  <meta name="product" content="F5 Identity and Access Management Solutions"/>
  <meta name="version" content=""/>
  <meta name="updated_date"  content="2021-06-21 13:23:29"/>
  <meta name="archived" content="Archived documents excluded"/>
  <meta name="doc_type" content="Manual"/>
  <meta name="lifecycle" content="release"/>
  <meta name="F5 Identity and Access Management Solutions" content=""/>


  

  
  <link href="https://cdn.f5.com/favicon.ico" rel="icon">

</head>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Lab 1: SAML Service Provider (SP) Lab &#8212; F5 Identity and Access Management Solutions  documentation</title>
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/css/bootstrap.min.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/graphviz.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css" />
    <link rel="stylesheet" href="../../_static/css/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/css/f5.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/css/f5-theme.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/css/CoveoFullSearch.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/css/custom.css" type="text/css" />
    <link rel="stylesheet" href="https://use.fontawesome.com/21fb8a09c3.css" type="text/css" />
    <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/clipboard.min.js"></script>
    <script src="../../_static/copybutton.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Lab 2: SAML Identity Provider (IdP) - AD Auth" href="lab02.html" />
    <link rel="prev" title="Environment Overview" href="intro.html" /> 
  </head><body>
  <div id="clouddocs-header"></div>

    <div id="sidebar" class="section-nav">
      
      <!--  version selector ------------------>
      <div id="version_selector_wrapper">
      </div>
      <nav class="nav-sidebartoc">

        
         <h5>F5 Identity and Access Management Solutions  </h5>
        

        <hr>
        <span class="nav-sidebartoc">
            <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../class1/class1.html">100 Series: Access Foundational Concepts</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../class2/class2.html">200 Series: Assisted Deployment Use Cases</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../class3.html">300 Series: Advanced Use Cases &amp; Solutions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../class4/class4.html">400 Series: Access Automation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../class5/class5.html">500 Series: Troubleshooting</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../archived/archived.html">Archived Identity &amp; Access Management Labs</a></li>
</ul>

        </span><!-- Use this file to add extra links to the bottom of the ToC sidebar -->
<hr>
  <span class="nav-sidebartoc">
 <!-- insert content here -->
  </span>
      </nav>
    </div>


    <div id="right-sidebar">
      <h7 style="font-weight:normal">On this page:</h7>
      <nav class="nav-sidebartoc">
        <span class="nav-sidebartoc">
            <ul>
<li><a class="reference internal" href="#">Lab 1: SAML Service Provider (SP) Lab</a><ul>
<li><a class="reference internal" href="#task-1-setup-lab-environment">Task 1 - Setup Lab Environment</a></li>
<li><a class="reference internal" href="#task-2-configure-the-saml-service-provider-sp">TASK 2 ‑ Configure the SAML Service Provider (SP)</a><ul>
<li><a class="reference internal" href="#sp-service">SP Service</a></li>
<li><a class="reference internal" href="#idp-connector">IdP Connector</a></li>
</ul>
</li>
<li><a class="reference internal" href="#task-3-configure-the-saml-sp-access-policy">TASK 3 ‑ Configure the SAML SP Access Policy</a></li>
<li><a class="reference internal" href="#task-4-create-the-sp-virtual-server-apply-the-sp-access-policy">TASK 4 ‑ Create the SP Virtual Server &amp; Apply the SP Access Policy</a></li>
<li><a class="reference internal" href="#task-5-test-the-saml-sp">TASK 5 ‑ Test the SAML SP</a></li>
<li><a class="reference internal" href="#task-6-lab-cleanup">Task 6 - Lab Cleanup</a></li>
</ul>
</li>
</ul>

         </span>
      </nav>
    </div>





  
  <div class="main active" id="content" >
    <article class="docs-container site-article-inner">
              <!-- custom breadcrumb -->
        <h5>
            <a href="../../index.html">F5 Identity and Access Management Solutions</a>
              &gt; <a href="../class3.html">300 Series: Advanced Use Cases &amp; Solutions</a>

          <span class="right">
             <a href="../../_sources/class3/module1/lab01.rst.txt" rel="nofollow">Source</a> |
             <a href="https://github.com/f5devcentral/f5-agility-labs-iam">Edit on <i class="fa fa-github" aria-hidden="true"></i></a>
          </span>
        </h5>
        <!-- end custom breadcrumb -->
      


    <!--a title="Export PDF" id="export-pdf" class="btn btn btn-link pull-right">View PDF</a-->
    <button type="button" id="export-pdf" class="btn btn-link right">PDF</button>


    
     
         <div class="sidebar" id="version-warning" style="display: none;">
           <p class="first sidebar-title">
           <span class="icon fa fa-info-circle fa-lg"></span> Version notice:</p>
           <p class="last" id="currentVersion"></p>
          </div>


     <div role="main">
        
  <div class="section" id="lab-1-saml-service-provider-sp-lab">
<h1>Lab 1: SAML Service Provider (SP) Lab<a class="headerlink" href="#lab-1-saml-service-provider-sp-lab" title="Permalink to this headline">¶</a></h1>
<p>The purpose of this lab is to configure and test a SAML Service
Provider. Students will configure the various aspects of a SAML Service
Provider, import and bind to a SAML Identity Provider and test
SP‑Initiated SAML Federation.</p>
<p>Objective:</p>
<ul class="simple">
<li>Gain an understanding of SAML Service Provider(SP) configurations and
its component parts</li>
<li>Gain an understanding of the access flow for SP-Initiated SAML</li>
</ul>
<p>Estimated completion time: 25 minutes</p>
<div class="section" id="task-1-setup-lab-environment">
<h2>Task 1 - Setup Lab Environment<a class="headerlink" href="#task-1-setup-lab-environment" title="Permalink to this headline">¶</a></h2>
<p>To access your dedicated student lab environment, you will need a web browser and Remote Desktop Protocol (RDP) client software. The web browser will be used to access the Unified Demo Framework (UDF) Training Portal. The RDP client will be used to connect to the jumphost, where you will be able to access the BIG-IP management interfaces (HTTPS, SSH).
#. Click <strong>DEPLOYMENT</strong> located on the top left corner to display the environment</p>
<ol class="arabic">
<li><p class="first">Click <strong>ACCESS</strong> next to jumphost.f5lab.local</p>
<p><img alt="image001" src="../../_images/0019.png" /></p>
</li>
<li><p class="first">Select your RDP resolution.</p>
</li>
<li><p class="first">The RDP client on your local host establishes a RDP connection to the jumphost.</p>
</li>
<li><p class="first">Login with the following credentials:</p>
<blockquote>
<div><ul class="simple">
<li>User: <strong>f5lab\user1</strong></li>
<li>Password: <strong>user1</strong></li>
</ul>
</div></blockquote>
</li>
<li><p class="first">After successful logon the Chrome browser will auto launch opening the site <a class="reference external" href="https://portal.f5lab.local">https://portal.f5lab.local</a>.  This process usually takes 30 seconds after logon.</p>
</li>
<li><p class="first">Click the <strong>Classes</strong> tab at the top of the page.</p>
<blockquote>
<div><p><img alt="image002" src="../../_images/0029.png" /></p>
</div></blockquote>
</li>
<li><p class="first">Scroll down the page until you see <strong>301 SAML Federation</strong> on the left</p>
<p><img alt="image003" src="../../_images/0039.png" /></p>
</li>
<li><p class="first">Hover over tile <strong>SAML Service Provider (SP) Lab</strong>. A start and stop icon should appear within the tile.  Click the <strong>Play</strong> Button to start the automation to build the environment</p>
<table border="1" class="docutils align-default">
<colgroup>
<col width="54%" />
<col width="46%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><img alt="image039" src="../../_images/0393.png" /></td>
<td><img alt="image004" src="../../_images/0049.png" /></td>
</tr>
</tbody>
</table>
</li>
<li><p class="first">The screen should refresh displaying the progress of the automation within 30 seconds.  Scroll to the bottom of the automation workflow to ensure all requests succeeded.  If you experience errors try running the automation a second time or open an issue on the <a class="reference external" href="https://github.com/f5devcentral/access-labs">Access Labs Repo</a>.</p>
<p><img alt="image005" src="../../_images/0059.png" /></p>
</li>
</ol>
</div>
<div class="section" id="task-2-configure-the-saml-service-provider-sp">
<h2>TASK 2 ‑ Configure the SAML Service Provider (SP)<a class="headerlink" href="#task-2-configure-the-saml-service-provider-sp" title="Permalink to this headline">¶</a></h2>
<div class="section" id="sp-service">
<h3>SP Service<a class="headerlink" href="#sp-service" title="Permalink to this headline">¶</a></h3>
<ol class="arabic">
<li><p class="first">Begin by selecting: <strong>Access -&gt; Federation -&gt; SAML Service Provider -&gt; Local SP Services</strong></p>
</li>
<li><p class="first">Click the <strong>Create</strong> button (far right)</p>
<p><img alt="image028" src="../../_images/0287.png" /></p>
</li>
<li><p class="first">In the <strong>Create New SAML SP Service</strong> dialog box click <strong>General Settings</strong>
in the left navigation pane and key in the following as shown:</p>
<table border="1" class="docutils align-default">
<colgroup>
<col width="30%" />
<col width="70%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>Name:</td>
<td><code class="docutils literal notranslate"><span class="pre">sp.acme.com</span></code></td>
</tr>
<tr class="row-even"><td>Entity ID:</td>
<td><code class="docutils literal notranslate"><span class="pre">https://sp.acme.com</span></code></td>
</tr>
</tbody>
</table>
</li>
<li><p class="first">Click <strong>Security Settings</strong></p>
</li>
<li><p class="first">Click <strong>Sign Authentication Request</strong></p>
</li>
<li><p class="first">From the <strong>Message Signing Private Key</strong> dropdown  select <strong>/Common/sp.acme.com</strong></p>
</li>
<li><p class="first">From the <strong>Message Signing Certificate</strong> dropdown select <strong>/Common/sp.acme.com</strong></p>
<blockquote>
<div><p><img alt="image035" src="../../_images/0355.png" /></p>
</div></blockquote>
</li>
<li><p class="first">Click <strong>OK</strong> on the dialogue box</p>
<p><img alt="image029" src="../../_images/0297.png" /></p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The yellow box on Host will disappear when the Entity ID is entered.</p>
</div>
</li>
</ol>
</div>
<div class="section" id="idp-connector">
<h3>IdP Connector<a class="headerlink" href="#idp-connector" title="Permalink to this headline">¶</a></h3>
<ol class="arabic">
<li><p class="first">Click on <strong>Access ‑&gt; Federation ‑&gt; SAML Service Provider ‑&gt; External IdP
Connectors</strong> <em>or</em> click on the <strong>SAML Service Provider</strong> tab in the
horizontal navigation menu and select <strong>External IdP Connectors</strong></p>
</li>
<li><p class="first">Click specifically on the <strong>Down Arrow</strong> next to the <strong>Create</strong> button
(far right)</p>
</li>
<li><p class="first">Select <strong>From Metadata</strong> from the drop down menu</p>
<p><img alt="image030" src="../../_images/0306.png" /></p>
</li>
<li><p class="first">In the <strong>Create New SAML IdP Connector</strong> dialogue box, click <strong>Browse</strong>
and select the <strong>idp_acme_com.xml</strong> file from the Desktop
of your jump host.</p>
</li>
<li><p class="first">In the <strong>Identity Provider Name</strong> field enter <em>idp.acme.com</em>:</p>
</li>
<li><p class="first">Click <strong>OK</strong> on the dialog box</p>
<p><img alt="image031" src="../../_images/0315.png" /></p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The idp_acme_com.xml was created previously.
Oftentimes, IdP providers will have a metadata file representing their IdP
service.  This can be imported to save object creation time as it has been
done in this lab</p>
</div>
</li>
<li><p class="first">Click on the <strong>Local SP Services</strong> from the <strong>SAML Service Providers</strong> tab
in the horizontal navigation menu</p>
</li>
<li><p class="first">Click the <strong>checkbox</strong> next to the previously created <em>sp.acme.com</em> and
click <strong>Bind/Unbind IdP Connectors</strong> at the bottom of the GUI</p>
<p><img alt="image032" src="../../_images/0325.png" /></p>
</li>
<li><dl class="first docutils">
<dt>In the <strong>Edit SAML IdP’s that use this SP</strong> dialogue box, click the</dt><dd><p><strong>Add New Row</strong> button</p>
<p><img alt="image033" src="../../_images/0335.png" /></p>
</dd>
</dl>
</li>
<li><p class="first">In the added row, click the <strong>Down Arrow</strong> under <strong>SAML IdP Connectors</strong> and
select the <strong>/Common/idp.acme.com</strong> SAML IdP Connector previously created</p>
<p><img alt="image034" src="../../_images/0345.png" /></p>
</li>
<li><p class="first">Click the <strong>Update</strong> button and the <strong>OK</strong> button at the bottom of the
dialog box</p>
<p><img alt="image006" src="../../_images/0069.png" /></p>
</li>
<li><p class="first">Under the <strong>Access ‑&gt; Federation ‑&gt; SAML Service Provider ‑&gt;
Local SP Services</strong> menu you should now see the following (as shown):</p>
<table border="1" class="docutils align-default">
<colgroup>
<col width="51%" />
<col width="49%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>Name:</td>
<td><code class="docutils literal notranslate"><span class="pre">sp.acme.com</span></code></td>
</tr>
<tr class="row-even"><td>SAML IdP Connectors:</td>
<td><code class="docutils literal notranslate"><span class="pre">idp.acme.com</span></code></td>
</tr>
</tbody>
</table>
<p><img alt="image007" src="../../_images/00710.png" /></p>
</li>
</ol>
</div>
</div>
<div class="section" id="task-3-configure-the-saml-sp-access-policy">
<h2>TASK 3 ‑ Configure the SAML SP Access Policy<a class="headerlink" href="#task-3-configure-the-saml-sp-access-policy" title="Permalink to this headline">¶</a></h2>
<ol class="arabic">
<li><p class="first">Begin by selecting <strong>Access ‑&gt; Profiles/Policies ‑&gt;
Access Profiles (Per‑Session Policies)</strong></p>
</li>
<li><p class="first">Click the <strong>Create</strong> button (far right)</p>
<p><img alt="image008" src="../../_images/0089.png" /></p>
</li>
<li><p class="first">In the <strong>New Profile</strong> window, key in the following:</p>
<table border="1" class="docutils align-default">
<colgroup>
<col width="37%" />
<col width="63%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>Name:</td>
<td><code class="docutils literal notranslate"><span class="pre">sp.acme.com‑psp</span></code></td>
</tr>
<tr class="row-even"><td>Profile Type:</td>
<td><code class="docutils literal notranslate"><span class="pre">All</span></code> (from drop down)</td>
</tr>
<tr class="row-odd"><td>Profile Scope:</td>
<td><code class="docutils literal notranslate"><span class="pre">Profile</span></code> (default)</td>
</tr>
</tbody>
</table>
<p><img alt="image009" src="../../_images/0099.png" /></p>
</li>
<li><p class="first">Scroll to the bottom of the <strong>New Profile</strong> window to the
<strong>Language Settings</strong></p>
</li>
<li><p class="first">Select <em>English</em> from the <strong>Factory Built‑in Languages</strong> on the right,
and click the <strong>Double Arrow (&lt;&lt;)</strong>, then click the <strong>Finished</strong> button.</p>
<p><img alt="image010" src="../../_images/01010.png" /></p>
</li>
<li><p class="first">From the <strong>Access ‑&gt; Profiles/Policies ‑&gt; Access Profiles
(Per‑Session Policies)</strong> screen, click the <strong>Edit</strong> link on the previously
created <code class="docutils literal notranslate"><span class="pre">sp.acme.com-psp</span></code> line</p>
<p><img alt="image011" src="../../_images/01111.png" /></p>
</li>
<li><p class="first">In the Visual Policy Editor window for <code class="docutils literal notranslate"><span class="pre">/Common/sp.acme.com-psp</span></code>,
click the <strong>Plus (+) Sign</strong> between <strong>Start</strong> and <strong>Deny</strong></p>
<p><img alt="image012" src="../../_images/01211.png" /></p>
</li>
<li><p class="first">In the pop‑up dialog box, select the <strong>Authentication</strong> tab and then click
the <strong>Radio Button</strong> next to <strong>SAML Auth</strong></p>
</li>
<li><p class="first">Once selected, click the <strong>Add Item</strong> button</p>
<p><img alt="image013" src="../../_images/01311.png" /></p>
</li>
<li><p class="first">In the <strong>SAML Auth</strong> configuration window, select <code class="docutils literal notranslate"><span class="pre">/Common/sp.acme.com</span></code>
from the <strong>AAA Server</strong> drop down menu</p>
</li>
<li><p class="first">Click the <strong>Save</strong> button at the bottom of the window</p>
<p><img alt="image014" src="../../_images/01410.png" /></p>
</li>
<li><p class="first">In the <strong>Visual Policy Editor</strong> window for <code class="docutils literal notranslate"><span class="pre">/Common/sp.acme.com‑psp</span></code>,
click the <strong>Plus (+) Sign</strong> on the <strong>Successful</strong> branch following
<strong>SAML Auth</strong></p>
<p><img alt="image015" src="../../_images/01510.png" /></p>
</li>
<li><p class="first">In the pop-up dialog box, select the <strong>Assignment</strong> tab, and then click
the <strong>Radio Button</strong> next to <strong>Variable Assign</strong></p>
</li>
<li><p class="first">Once selected, click the <strong>Add Item</strong> buton</p>
<p><img alt="image016" src="../../_images/0169.png" /></p>
</li>
<li><p class="first">In the <strong>Variable Assign</strong> configuration window, click the
<strong>Add New Entry</strong> button</p>
<blockquote>
<div><p><img alt="image017" src="../../_images/0179.png" /></p>
</div></blockquote>
</li>
<li><p class="first">Under the new <strong>Assignment</strong> row, click the <strong>Change</strong> link</p>
<blockquote>
<div><p><img alt="image018" src="../../_images/0189.png" /></p>
</div></blockquote>
</li>
<li><p class="first">In the pop‑up window, configure the following:</p>
<table border="1" class="docutils align-default">
<colgroup>
<col width="30%" />
<col width="70%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head" colspan="2">Left Pane</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Variable Type:</td>
<td><code class="docutils literal notranslate"><span class="pre">Custom</span> <span class="pre">Variable</span></code></td>
</tr>
<tr class="row-odd"><td>Security:</td>
<td><code class="docutils literal notranslate"><span class="pre">Unsecure</span></code></td>
</tr>
<tr class="row-even"><td>Value:</td>
<td><code class="docutils literal notranslate"><span class="pre">session.logon.last.username</span></code></td>
</tr>
</tbody>
</table>
<table border="1" class="docutils align-default">
<colgroup>
<col width="29%" />
<col width="71%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head" colspan="2">Right Pane</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Variable Type:</td>
<td><code class="docutils literal notranslate"><span class="pre">Session</span> <span class="pre">Variable</span></code></td>
</tr>
<tr class="row-odd"><td>Session Variable:</td>
<td><code class="docutils literal notranslate"><span class="pre">session.saml.last.attr.name.emailaddress</span></code></td>
</tr>
</tbody>
</table>
</li>
<li><p class="first">Click the <strong>Finished</strong> button at the bottom of the configuration window</p>
<blockquote>
<div><p><img alt="image019" src="../../_images/01910.png" /></p>
</div></blockquote>
</li>
<li><p class="first">Click the <strong>Save</strong> button at the bottom of the <strong>Variable Assign</strong>
dialog window</p>
<p><img alt="image020" src="../../_images/0209.png" /></p>
</li>
<li><p class="first">In the <strong>Visual Policy Editor</strong> select the <strong>Deny</strong> ending along the
<strong>fallback</strong> branch following the <strong>Variable Assign</strong></p>
<p><img alt="image021" src="../../_images/0218.png" /></p>
</li>
<li><p class="first">From the <strong>Select Ending</strong> dialog box, select the <strong>Allow</strong> button and
then click <strong>Save</strong></p>
<p><img alt="image022" src="../../_images/0228.png" /></p>
</li>
<li><p class="first">In the <strong>Visual Policy Editor</strong> click <strong>Apply Access Policy</strong> (top left)
and close the <strong>Visual Policy Editor</strong></p>
<p><img alt="image023" src="../../_images/0239.png" /></p>
</li>
</ol>
</div>
<div class="section" id="task-4-create-the-sp-virtual-server-apply-the-sp-access-policy">
<h2>TASK 4 ‑ Create the SP Virtual Server &amp; Apply the SP Access Policy<a class="headerlink" href="#task-4-create-the-sp-virtual-server-apply-the-sp-access-policy" title="Permalink to this headline">¶</a></h2>
<ol class="arabic">
<li><p class="first">Begin by selecting Local Traffic &gt;&gt; Virtual Servers &gt;&gt; <strong>+</strong> (Plus Symbol)</p>
<p><img alt="image024" src="../../_images/0248.png" /></p>
</li>
<li><p class="first">In the <strong>New Virtual Server</strong> window, key in the following as shown:</p>
<table border="1" class="docutils align-default">
<colgroup>
<col width="49%" />
<col width="51%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head" colspan="2">General Properties</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Name:</td>
<td><code class="docutils literal notranslate"><span class="pre">sp.acme.com</span></code></td>
</tr>
<tr class="row-odd"><td>Destination Address/Mask:</td>
<td><code class="docutils literal notranslate"><span class="pre">10.1.10.103</span></code></td>
</tr>
<tr class="row-even"><td>Service Port:</td>
<td><code class="docutils literal notranslate"><span class="pre">443</span></code></td>
</tr>
</tbody>
</table>
<blockquote>
<div><p><img alt="image025" src="../../_images/0258.png" /></p>
</div></blockquote>
<table border="1" class="docutils align-default">
<colgroup>
<col width="47%" />
<col width="53%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head" colspan="2">Configuration</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>HTTP Profile:</td>
<td><code class="docutils literal notranslate"><span class="pre">http</span></code> (drop down)</td>
</tr>
<tr class="row-odd"><td>SSL Profile (Client)</td>
<td><code class="docutils literal notranslate"><span class="pre">wilcard.acme.com</span></code></td>
</tr>
<tr class="row-even"><td>Source Address Translation</td>
<td><code class="docutils literal notranslate"><span class="pre">auto</span> <span class="pre">Map</span></code></td>
</tr>
</tbody>
</table>
<blockquote>
<div><p><img alt="image026" src="../../_images/0268.png" /></p>
</div></blockquote>
<table border="1" class="docutils align-default">
<colgroup>
<col width="39%" />
<col width="61%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head" colspan="2">Access Policy</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Access Profile:</td>
<td><code class="docutils literal notranslate"><span class="pre">sp.acme.com-psp</span></code></td>
</tr>
</tbody>
</table>
<blockquote>
<div><p><img alt="image027" src="../../_images/0277.png" /></p>
</div></blockquote>
<table border="1" class="docutils align-default">
<colgroup>
<col width="39%" />
<col width="61%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head" colspan="2">Access Policy</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Default Pool</td>
<td><code class="docutils literal notranslate"><span class="pre">sp-pool</span></code></td>
</tr>
</tbody>
</table>
</li>
<li><p class="first">Click <strong>Finished</strong></p>
<blockquote>
<div><p><img alt="image036" src="../../_images/0364.png" /></p>
</div></blockquote>
</li>
</ol>
</div>
<div class="section" id="task-5-test-the-saml-sp">
<h2>TASK 5 ‑ Test the SAML SP<a class="headerlink" href="#task-5-test-the-saml-sp" title="Permalink to this headline">¶</a></h2>
<ol class="arabic">
<li><p class="first">Using your browser from the jump host, navigate to <code class="docutils literal notranslate"><span class="pre">https://sp.acme.com</span></code></p>
</li>
<li><p class="first">You are redirected to <code class="docutils literal notranslate"><span class="pre">https://idp.acme.com</span></code></p>
</li>
<li><p class="first">Log in to the IdP with the credentials:</p>
<ul class="simple">
<li>username: <strong>user1</strong></li>
<li>password: <strong>user1</strong></li>
</ul>
<p><img alt="image037" src="../../_images/0373.png" /></p>
</li>
<li><p class="first">You are redirected back to <a class="reference external" href="https://sp.acme.com">https://sp.acme.com</a> and successfully logged on.</p>
<blockquote>
<div><p><img alt="image038" src="../../_images/0383.png" /></p>
</div></blockquote>
</li>
<li><p class="first">Review your Active Sessions <strong>(Access ‑&gt; Overview ‑&gt; Active Sessions­­­)</strong></p>
</li>
</ol>
</div>
<div class="section" id="task-6-lab-cleanup">
<h2>Task 6 - Lab Cleanup<a class="headerlink" href="#task-6-lab-cleanup" title="Permalink to this headline">¶</a></h2>
<ol class="arabic">
<li><p class="first">From a browser on the jumphost navigate to <a class="reference external" href="https://portal.f5lab.local">https://portal.f5lab.local</a></p>
</li>
<li><p class="first">Click the <strong>Classes</strong> tab at the top of the page.</p>
<blockquote>
<div><p><img alt="image002" src="../../_images/0029.png" /></p>
</div></blockquote>
</li>
<li><p class="first">Scroll down the page until you see <strong>301 SAML Federation</strong> on the left</p>
<p><img alt="image003" src="../../_images/0039.png" /></p>
</li>
<li><p class="first">Hover over tile <strong>SAML Service Provider (SP) Lab</strong>. A start and stop icon should appear within the tile.  Click the <strong>Stop</strong> Button to trigger the automation to remove any prebuilt objects from the environment</p>
<table border="1" class="docutils align-default">
<colgroup>
<col width="54%" />
<col width="46%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><img alt="image039" src="../../_images/0393.png" /></td>
<td><img alt="image998" src="../../_images/9984.png" /></td>
</tr>
</tbody>
</table>
</li>
<li><p class="first">The screen should refresh displaying the progress of the automation within 30 seconds.  Scroll to the bottom of the automation workflow to ensure all requests succeeded.  If you you experience errors try running the automation a second time or open an issue on the <a class="reference external" href="https://github.com/f5devcentral/access-labs">Access Labs Repo</a>.</p>
<p><img alt="image999" src="../../_images/9994.png" /></p>
</li>
<li><p class="first">This concludes the lab.</p>
<p><img alt="image000" src="../../_images/00014.png" /></p>
</li>
</ol>
</div>
</div>


     </div>
    
     <div class="row next-prev-btn-row">
       <div class="col-lg-12">
       
        <a href="intro.html" title="Environment Overview" accesskey="p" class="btn btn-primary left"><i class="fa fa-arrow-circle-left" aria-hidden="true"></i> Previous</a>
       
       
          <a href="lab02.html" title="Lab 2: SAML Identity Provider (IdP) - AD Auth" accesskey="n" class="btn btn-primary right">Next <i class="fa fa-arrow-circle-right" aria-hidden="true"></i></a>
       
     </div>
     </div>
    

    </article>
  </div>

</div>


  <div id="clouddocs-footer"></div>
  <!-- Bootstrap core JavaScript
  ================================================== -->
  <!-- Placed at the end of the document so the pages load faster -->

  <script src="../../_static/js/index.js"></script>
  <script src="../../_static/js/jquery.appear.js"></script>
  <script src="../../_static/js/printThis.js"></script>
  <script src="../../_static/js/bootstrap.min.js"></script>
  <script src="../../_static/js/clouddocs.js"></script>
  <script src="../../_static/js/CoveoJsSearch.Lazy.min.js"></script>
  </body>
</html>